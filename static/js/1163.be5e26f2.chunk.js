"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[1163,4073,8268],{88268:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var i=t(9950),a=t(52867),r=t(44414);const n=e=>{let{imageSize:s,symbolClass:t,className:n,name:o,profileUrl:l,networkId:d,errorPic:c}=e;const[p,h]=(0,i.useState)(!1);return(0,r.jsx)("div",{className:n,children:p||""===l?(0,r.jsxs)("span",{className:"".concat(t," rounded-circle text-white"),style:{backgroundColor:"#000"},children:[" ",(0,a.t$)(o)," "]}):(0,r.jsx)("img",{src:l,height:s,width:s,alt:o,onError:e=>{c?e.target.src=c:h(!0)}})})}},4073:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var i=t(68298),a=t(51960),r=t(52867),n=t(9950),o=t(44414);const l=e=>{let{mediaClass:s,size:t,height:l,width:d,url:c,alt:p,isProduct:h,handleAllImageError:m,item:x,isCover:g}=e;const[f,u]=(0,n.useState)(t||100);(0,n.useEffect)((()=>{(async()=>{if(t)u(t);else if(l&&""!=l&&d&&""!=d)u(100*l/d);else try{const{width:e,height:s}=await(0,r.pG)(c);u(100*s/e)}catch(e){u(100)}})()}),[t]);return(0,o.jsx)("div",{className:"".concat(s," overflow-hidden position-relative"),style:{paddingBottom:"".concat(f,"%")},children:(0,o.jsx)(a.A,{className:"position-absolute  h-100 w-100 object-center-".concat(g?"cover":"contain"),loading:"lazy",src:c,height:l,width:d,"data-load":"0","data-id":null===x||void 0===x?void 0:x.id,"data-network":null===x||void 0===x?void 0:x.networkId,alt:""!=p?p:(0,r.wG)(c),onError:e=>{m&&m(e),(e=>{e.target.src=h?i.RO:i.ru})(e)},fluid:!0})})}},61163:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var i=t(89379),a=t(9950),r=t(97937),n=t(41294),o=t(98341),l=t(10274),d=t(68281),c=(t(70804),t(3686)),p=t(73501),h=t(95942),m=t(52867),x=t(68298),g=t(4073),f=t(88268),u=t(19115),w=t(15903),j=t(44414);class v extends a.Component{constructor(e){super(e),this.reArrangePosts=()=>{const{newArray:e,updateOrder:s}=this.state,t=e.map((e=>e.id)),i=e.map(((e,s)=>s+1));s&&(this.setState({spinner:!0}),this.props.GET_REORDER_PIN_TO_TOP(t,i,(()=>{this.setState({spinner:!1},(()=>this.props.closeModalPop()))})))},this.onLoadData=e=>{const{pinToTop:s}=e;this.setState({items:s,newArray:s})},this.state={items:[],newArray:[],spinner:!1,updateOrder:!1},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){this.onLoadData(this.props)}componentDidUpdate(e){e.openpinToTopModal!==this.props.openpinToTopModal&&this.props.openpinToTopModal&&this.props.GET_PIN_TO_TOP_LIST(),e.pinToTop!==this.props.pinToTop&&this.onLoadData(this.props)}onDragEnd(e){if(!e.destination)return;const s=((e,s,t)=>{const i=Array.from(e),[a]=i.splice(s,1);return i.splice(t,0,a),i})(this.state.items,e.source.index,e.destination.index);this.setState({items:s,newArray:s,updateOrder:!0})}render(){var e;const{openpinToTopModal:s,closeModalPop:t}=this.props,{spinner:a}=this.state;return(0,j.jsxs)(n.A,{className:"pintotop_modal",size:"lg",show:s,onHide:t,centered:!0,children:[(0,j.jsx)(n.A.Header,{closeButton:!0,children:(0,j.jsx)(n.A.Title,{children:"Change Order"})}),(0,j.jsx)(n.A.Body,{children:(0,j.jsx)("div",{className:"px-3 overflow-auto",style:{height:500},children:this.state.items&&(null===(e=this.state.items)||void 0===e?void 0:e.length)>0?(0,j.jsx)(d.JY,{onDragEnd:this.onDragEnd,children:(0,j.jsx)(d.gL,{droppableId:"droppable",children:(e,s)=>(0,j.jsx)("div",(0,i.A)((0,i.A)({},e.droppableProps),{},{ref:e.innerRef,style:(s.isDraggingOver,{}),children:this.state.items&&this.state.items.length&&this.state.items.map(((e,s)=>(0,j.jsx)(d.sx,{draggableId:"item-".concat(s),index:s,children:(t,a)=>{return(0,j.jsx)("div",(0,i.A)((0,i.A)((0,i.A)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(a.isDragging,r=t.draggableProps.style,(0,i.A)({},r)),children:(0,j.jsx)(c.A,{"data-id":e.id,className:"mb-3",children:(0,j.jsxs)(c.A.Body,{className:"p-2",children:[(0,j.jsx)("span",{className:"position-absolute start-0 translate-middle h-18px w-18px rounded-circle f-center bg-dark text-white top-50 fs-10 fw-medium",style:{zIndex:1},children:s+1}),(0,j.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,j.jsx)("div",{className:"f-center h-100 text-gray-300 me-lg-2 mb-2 fs-6",children:(0,j.jsx)(x.gc,{type:"solid",icon:"grip-dots-vertical"})}),(0,j.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer pe-lg-4 mx-auto mb-lg-0 mb-3",style:{width:120},children:(0,j.jsx)(g.default,{mediaClass:"position-relative rounded-1 overflow-hidden w-100",size:100,height:120,width:120,url:e.newMedia,alt:"",isCover:!0})}),(0,j.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 w-100 overflow-hidden",children:[(0,j.jsxs)("div",{className:"d-flex align-items-start mb-1",children:[(0,j.jsxs)("a",{href:e.link,target:"_blank",className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none text-gray-800",children:[(0,j.jsx)(f.default,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fs-5",name:e.username,profileUrl:e.picture,networkId:e.networkId}),(0,j.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,j.jsx)("p",{className:" mb-0",children:(0,j.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.name})}),(0,j.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",e.username]})]})]}),(0,j.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,j.jsx)(p.A,{placement:"top",overlay:(0,j.jsx)(h.A,{children:(0,m.Oi)(e.networkId)}),children:29==e.networkId?(0,j.jsx)("i",{className:"fab fa-onsite-upload fs-4"}):(0,j.jsx)(x.gc,{icon:(0,m.EC)(e.networkId),iconClass:"fs-4 ".concat(12==e.networkId?"fa-solid":"fa-brands")})})})]}),(0,j.jsx)("p",{className:"line-clamp line-clamp-3 mb-1",children:e.postcontent})]})]})]})})}));var r}},"item-".concat(s))))}))})}):(0,j.jsx)(w.A,{})})}),(0,j.jsxs)(n.A.Footer,{children:[(0,j.jsx)(r.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:t,children:"Cancel"}),(0,j.jsx)(r.A,{className:"ms-3 btn-min-w ".concat(a?"spinner":""),onClick:this.reArrangePosts,children:"Done"})]})]})}}const b=(0,o.Ng)((e=>{var s;return{pinToTop:null===(s=e.moderation)||void 0===s?void 0:s.pinToTop}}),(e=>({MOD_PIN_LIST:()=>e((0,u.SKt)()),GET_PIN_TO_TOP_LIST:()=>e((0,l.qz)()),GET_REORDER_PIN_TO_TOP:(s,t,i)=>e((0,l.Z4)(s,t,i))})))(v)}}]);