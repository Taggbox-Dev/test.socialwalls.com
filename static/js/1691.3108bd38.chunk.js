"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[1691],{91691:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(9950),l=a(28429),n=a(42074),i=a(45276),d=a(15018),r=a(38383),c=a(95942),o=a(98341),h=a(70804),m=a(72224),f=a(52867),p=a(63551),u=a(44414);const Y=e=>{const t=(0,l.zy)();return(0,u.jsx)(g,{location:t,...e})};class g extends s.Component{constructor(){super(...arguments),this.state={feed:[],wallID:null,getwallID:null,updateFeedList:[],refreshing:!0,spece:"-"},this.changeFeedsFilters=e=>{const{analyticsStatus:t}=this.props;e.length>0&&this.setState({feed:e},(()=>this.props.updateSelectedFeed(this.state.feed,t.trialAccessAPI)))}}componentDidMount(){const{analyticwall:e,analyticsStatus:t}=this.props,{spece:a}=this.state;let s=[],l=0;e.selectedWallFeed&&Object.keys(e.selectedWallFeed).length>0&&e.selectedWallFeed&&e.selectedWallFeed.feeds.length>0&&(l=e.selectedWallFeed.wall.id,e.selectedWallFeed.feeds.map((e=>{s.push({value:e.id,label:(0,h.Ay)(`${e.Network.icon?(0,f.kX)(e.Network.icon):""}  ${(0,f.lI)(e.filterId)}  ${e.name}  ${e.filterIdName?a:""} ${e.filterIdName?e.filterIdName:""}`)})}))),e.selectedWallFeed.wall.id!=localStorage.getItem("wallId")&&this.props.swithcWall(),this.setState({getwallID:e.selectedWallFeed.wall.id}),this.setState({updateFeedList:s,wallID:l,feed:this.state.wallID!=l?s:this.state.feed},(()=>this.props.updateSelectedFeed(this.state.feed,t.trialAccessAPI)))}componentWillReceiveProps(e){const{analyticwall:t,wallRefresh:a}=e,{refreshing:s,spece:l}=this.state;let n=[],i=0;t.selectedWallFeed&&Object.keys(t.selectedWallFeed).length>0&&t.selectedWallFeed&&t.selectedWallFeed.feeds.length>0&&(i=t.selectedWallFeed.wall.id,t.selectedWallFeed.feeds.map((e=>{n.push({value:e.id,label:(0,h.Ay)(`${e.Network.icon?(0,f.kX)(e.Network.icon):""}  ${(0,f.lI)(e.filterId)}  ${e.name}  ${e.filterIdName?l:""} ${e.filterIdName?e.filterIdName:""}`)})}))),n!=this.state.updateFeedList&&a&&a.refreshing&&s?this.setState({updateFeedList:n,wallID:i,feed:n,refreshing:!1}):this.setState({updateFeedList:n,wallID:i,feed:this.state.wallID!=i?n:this.state.feed},(()=>setTimeout((()=>this.setState({refreshing:!0})),2e3)))}render(){const{updateFeedList:e,feed:t}=this.state;return(0,u.jsx)("div",{className:"w-auto react-search-feed filter_btn_wrap",children:(0,u.jsx)(m.A,{classNamePrefix:"check-feed",value:t,onChange:this.changeFeedsFilters,options:e})})}}const x=(0,o.Ng)((e=>({analyticwall:e.analyticwall,analyticsStatus:e.analyticsStatusD,wallRefresh:e.wallRefresh})),(e=>({activeTab:t=>e((0,p.Qe)(t)),updateSelectedFeed:(t,a)=>e((0,p.j1)(t,a)),swithcWall:()=>e((0,p.Pi)())})))((0,s.memo)(Y));var D=a(32796),y=a(74283),b=a(59051),w=a.n(b);const j=e=>{const t=(0,l.zy)(),a=(0,o.wA)(),{analyticwall:h,analyticsStatus:m,pageRefresh:f,analytics_status_loader:Y,getactiveTab:g,analyticsRecords:b,dateFilter:j}=(0,o.d4)((e=>{let{analyticwallD:t,analyticsStatusD:a,analyticsRecords:s}=e;return{analyticwall:t,analyticsStatus:a,pageRefresh:s.page_refresh,analytics_status_loader:s.analytics_status_loader,dateFilter:s.dateFilter,getactiveTab:s.activeTab,analyticsRecords:s}}),o.bN),v=!h.selectedFeed.length||m.trialAccessAPI,M=h&&Object.keys(h).length>0?h.dateFilter:null;let N=M&&Object.keys(M).length>0&&M.startDate?M.startDate:w()().subtract(29,"days").format("DD-MM-YYYY"),F=M&&Object.keys(M).length>0&&M.endDate?M.endDate:w()().format("DD-MM-YYYY");const I=y.A.parse(t.search);I.startdate&&(N=w().unix(I.startdate).format("DD-MM-YYYY")),I.enddate&&(F=w().unix(I.enddate).format("DD-MM-YYYY"));const[_,k]=(0,s.useState)(N),[A,S]=(0,s.useState)(F),[W,R]=(0,s.useState)(w()().endOf("month").format("DD-MM-YYYY"));(0,s.useEffect)((()=>{a((0,p.Qe)(t.pathname))}),[]);return(0,u.jsx)("div",{children:(0,u.jsx)("div",{id:"sw_subheader",className:"subheader analytics_subheader",children:(0,u.jsx)("div",{className:"container-fluid",children:(0,u.jsxs)("div",{className:"row align-items-center justify-content-between flex-wrap position-relative",children:[(0,u.jsx)("div",{className:"col-md-4 col-8 ps-0",children:(0,u.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,u.jsx)("button",{type:"button",className:"btn btn-icon btn-clean btn-lg border-right btn-square back_btn me-4",style:{height:"50px"},children:(0,u.jsx)(n.N_,{to:`/wall/index/${localStorage.getItem("wallId")}`,children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",children:(0,u.jsxs)("g",{id:"Group_5147","data-name":"Group 5147",transform:"translate(-282 -85)",children:[(0,u.jsx)("rect",{id:"Rectangle_2245","data-name":"Rectangle 2245",width:"32",height:"32",transform:"translate(282 85)",fill:"none"}),(0,u.jsx)("g",{id:"_15","data-name":"15",transform:"translate(292.278 91)",children:(0,u.jsx)("path",{id:"Path_5609","data-name":"Path 5609",d:"M18.238,25.487a1.463,1.463,0,0,0,1.039-2.5l-7.755-7.74L19.277,7.5A1.469,1.469,0,0,0,17.2,5.426L8.42,14.206a1.463,1.463,0,0,0,0,2.063L17.2,25.048a1.463,1.463,0,0,0,1.039.439Z",transform:"translate(-7.994 -4.996)",fill:"#545454"})})]})})})}),(0,u.jsxs)("ul",{className:"nav sw-anlts-nav-tabs",children:[(0,u.jsx)("li",{className:"me-3",children:(0,u.jsx)(n.N_,{to:`/analytic/${localStorage.getItem("wallId")}`,className:"nav-link "+(t.pathname.includes(localStorage.getItem("wallId"))?"active":""),children:"Content"})}),(0,u.jsx)("li",{className:"me-3",children:(0,u.jsx)(n.N_,{to:"/analytic/activityHub/widget",className:"nav-link "+(t.pathname.includes("activityHub")?"active":""),children:"Activity Hub"})})]})]})}),(0,u.jsx)("div",{className:"col-md-8 col-4",children:(0,u.jsxs)("div",{className:"d-flex justify-content-end pe-3",children:[(0,u.jsx)("div",{className:"option-list active",children:(0,u.jsxs)("div",{className:"d-flex justify-content-md-end",children:[(0,u.jsx)("div",{className:"ms-3",children:(0,u.jsx)(r.A,{placement:"bottom",overlay:(0,u.jsx)(c.A,{className:"my-custom-tooltip",children:"Reffresh"}),children:(0,u.jsx)("button",{onClick:()=>{a((0,p._c)(v))},className:"btn btn-outline-secondary py-2 px-4",type:"button",children:(0,u.jsx)("span",{className:"svg-icon svg-icon-sm svg-icon-dark-75 me-0 "+(f&&f?"fa fa-spin":""),children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:(0,u.jsxs)("g",{id:"Group_4474","data-name":"Group 4474",transform:"translate(10951 -4712)",children:[(0,u.jsx)("rect",{id:"Rectangle_2094","data-name":"Rectangle 2094",width:"24",height:"24",transform:"translate(-10951 4712)",fill:"none",opacity:"0"}),(0,u.jsxs)("g",{id:"Group_1","data-name":"Group 1",transform:"translate(-10950 4715)",children:[(0,u.jsx)("path",{id:"Path_17","data-name":"Path 17",d:"M17.617,40.968a6.864,6.864,0,0,1-3.843,1.155,6.966,6.966,0,0,1-6.929-6.059H8a1.027,1.027,0,0,0,.869-.474.9.9,0,0,0,0-.967L6.656,30.974a1,1,0,0,0-.869-.474h0a1.027,1.027,0,0,0-.869.474c-.778,1.25-1.933,3.277-2.122,3.556a1.344,1.344,0,0,0-.189.566.916.916,0,0,0,.961.967H4.814a8.994,8.994,0,0,0,8.962,7.993,8.833,8.833,0,0,0,4.9-1.438.955.955,0,0,0,.283-1.344,1.02,1.02,0,0,0-1.342-.307Z",transform:"translate(-2.605 -26.138)",fill:"#545454"}),(0,u.jsx)("path",{id:"Path_18","data-name":"Path 18",d:"M42.874,19.993h-1.25A8.993,8.993,0,0,0,32.666,12a8.833,8.833,0,0,0-4.9,1.438.971.971,0,1,0,1.061,1.626,6.864,6.864,0,0,1,3.843-1.155A6.966,6.966,0,0,1,39.6,19.969H38.444a1.027,1.027,0,0,0-.869.474.9.9,0,0,0,0,.967l2.213,3.654a1,1,0,0,0,.869.474h0a1.027,1.027,0,0,0,.869-.474c.778-1.25,1.933-3.277,2.122-3.556a1.344,1.344,0,0,0,.189-.566.923.923,0,0,0-.963-.949Z",transform:"translate(-21.494 -12)",fill:"#545454"})]})]})})})})})}),e.activeTab||[3].includes(g)?null:(0,u.jsx)("div",{className:"ms-3",children:Y?(0,u.jsx)(x,{}):null}),[3].includes(g)?null:(0,u.jsx)("div",{className:"ms-3",children:(0,u.jsx)(D.A,{onApply:(e,t)=>{a((0,p.j1)(b.selected_feed_data,v,{startDate:t.startDate,endDate:t.endDate})),k(t.startDate.format("DD-MM-YYYY")),S(t.endDate.format("DD-MM-YYYY"))},startDate:_,endDate:A,initialSettings:{locale:{format:"DD-MM-YYYY",separator:"-"},maxDate:W,showDropdowns:!0,startDate:_,endDate:A,ranges:{Today:[w()().format("DD-MM-YYYY"),w()().format("DD-MM-YYYY")],Yesterday:[w()().subtract(1,"days").format("DD-MM-YYYY"),w()().subtract(1,"days").format("DD-MM-YYYY")],"Last 7 Days":[w()().subtract(6,"days").format("DD-MM-YYYY"),w()().format("DD-MM-YYYY")],"Last 30 Days":[w()().subtract(29,"days").format("DD-MM-YYYY"),w()().format("DD-MM-YYYY")],"This Month":[w()().startOf("month").format("DD-MM-YYYY"),w()().endOf("month").format("DD-MM-YYYY")],"Last Month":[w()().subtract(1,"month").startOf("month").format("DD-MM-YYYY"),w()().subtract(1,"month").endOf("month").format("DD-MM-YYYY")]}},children:(0,u.jsx)("button",{type:"button",className:"btn btn-outline-secondary py-2 px-4 btn-icon",id:"reportrange",children:(0,u.jsx)(r.A,{placement:"bottom",overlay:(0,u.jsx)(c.A,{className:"my-custom-tooltip",children:"Date Filter"}),children:(0,u.jsx)("div",{className:"btn btn-outline-secondary py-2 px-4 btn-icon",children:(0,u.jsx)("span",{className:"svg-icon svg-icon-sm svg-icon-dark-75",children:(0,u.jsx)(i.A,{className:"h-75 align-self-end",src:(0,d.oK)("/svg/calendar-new.svg")})})})})})})})]})}),(0,u.jsx)("div",{className:"ms-3 more-option",children:(0,u.jsx)("button",{className:"btn btn-outline-secondary py-2 px-4",type:"button",children:(0,u.jsx)(i.A,{height:"16px",width:"16px",src:(0,d.oK)("/svg/more.svg")})})})]})})]})})})})}},15018:(e,t,a)=>{a.d(t,{i$:()=>d,oK:()=>n,sl:()=>i});a(3163),a(15208);var s=a(59051),l=a.n(s);a(63551);const n=e=>"https://cloud.tagbox.com/app/analytics"+e,i=e=>{try{var t=e;if(e>=1e3){for(var a=Math.floor((""+e).length/3),s="",l=2;l>=1;l--){if(((s=parseFloat((0!=a?e/Math.pow(1e3,a):e).toPrecision(l)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}s%1!=0&&(s=s.toFixed(1)),t=s+["","K","M","B","T"][a]}return t}catch(n){return Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e)}},d=e=>l()(e).format("YYYY-MM-DD HH:mm:ss")}}]);