"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[1163],{61163:(e,s,t)=>{t.r(s),t.d(s,{default:()=>T});var i=t(9950),n=t(97937),r=t(80107),a=t(98341),o=t(10274),l=t(68281),d=(t(70804),t(3686)),p=t(38383),c=t(95942),h=t(52867),m=t(68298),x=t(4073),g=t(88268),f=t(19115),j=t(15903),u=t(44414);class w extends i.Component{constructor(e){super(e),this.reArrangePosts=()=>{const{newArray:e,updateOrder:s}=this.state,t=e.map((e=>e.id)),i=e.map(((e,s)=>s+1));s&&(this.setState({spinner:!0}),this.props.GET_REORDER_PIN_TO_TOP(t,i,(()=>{this.setState({spinner:!1},(()=>this.props.closeModalPop()))})))},this.onLoadData=e=>{const{pinToTop:s}=e;this.setState({items:s,newArray:s})},this.state={items:[],newArray:[],spinner:!1,updateOrder:!1},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){this.onLoadData(this.props)}componentDidUpdate(e){e.openpinToTopModal!==this.props.openpinToTopModal&&this.props.openpinToTopModal&&this.props.GET_PIN_TO_TOP_LIST(),e.pinToTop!==this.props.pinToTop&&this.onLoadData(this.props)}onDragEnd(e){if(!e.destination)return;const s=((e,s,t)=>{const i=Array.from(e),[n]=i.splice(s,1);return i.splice(t,0,n),i})(this.state.items,e.source.index,e.destination.index);this.setState({items:s,newArray:s,updateOrder:!0})}render(){var e;const{openpinToTopModal:s,closeModalPop:t}=this.props,{spinner:i}=this.state;return(0,u.jsxs)(r.A,{className:"pintotop_modal",size:"lg",show:s,onHide:t,centered:!0,children:[(0,u.jsx)(r.A.Header,{closeButton:!0,children:(0,u.jsx)(r.A.Title,{children:"Change Order"})}),(0,u.jsx)(r.A.Body,{children:(0,u.jsx)("div",{className:"px-3 overflow-auto",style:{height:500},children:this.state.items&&(null===(e=this.state.items)||void 0===e?void 0:e.length)>0?(0,u.jsx)(l.JY,{onDragEnd:this.onDragEnd,children:(0,u.jsx)(l.gL,{droppableId:"droppable",children:(e,s)=>(0,u.jsx)("div",{...e.droppableProps,ref:e.innerRef,style:(s.isDraggingOver,{}),children:this.state.items&&this.state.items.length&&this.state.items.map(((e,s)=>(0,u.jsx)(l.sx,{draggableId:`item-${s}`,index:s,children:(t,i)=>{return(0,u.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:(i.isDragging,n=t.draggableProps.style,{...n}),children:(0,u.jsx)(d.A,{"data-id":e.id,className:"mb-3",children:(0,u.jsxs)(d.A.Body,{className:"p-2",children:[(0,u.jsx)("span",{className:"position-absolute start-0 translate-middle h-18px w-18px rounded-circle f-center bg-dark text-white top-50 fs-10 fw-medium",style:{zIndex:1},children:s+1}),(0,u.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,u.jsx)("div",{className:"f-center h-100 text-gray-300 me-lg-2 mb-2 fs-6",children:(0,u.jsx)(m.gc,{type:"solid",icon:"grip-dots-vertical"})}),(0,u.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer pe-lg-4 mx-auto mb-lg-0 mb-3",style:{width:120},children:(0,u.jsx)(x.A,{mediaClass:"position-relative rounded-1 overflow-hidden w-100",size:100,height:120,width:120,url:e.newMedia,alt:"",isCover:!0})}),(0,u.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 w-100 overflow-hidden",children:[(0,u.jsxs)("div",{className:"d-flex align-items-start mb-1",children:[(0,u.jsxs)("a",{href:e.link,target:"_blank",className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none text-gray-800",children:[(0,u.jsx)(g.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fs-5",name:e.username,profileUrl:e.picture,networkId:e.networkId}),(0,u.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,u.jsx)("p",{className:" mb-0",children:(0,u.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.name})}),(0,u.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",e.username]})]})]}),(0,u.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,u.jsx)(p.A,{placement:"top",overlay:(0,u.jsx)(c.A,{children:(0,h.Oi)(e.networkId)}),children:(0,u.jsx)(m.gc,{icon:(0,h.EC)(e.networkId),iconClass:"fs-4 fab "+(12==e.networkId?"fa-solid":"fa-brands")})})})]}),(0,u.jsx)("p",{className:"line-clamp line-clamp-3 mb-1",children:e.postcontent})]})]})]})})});var n}},`item-${s}`)))})})}):(0,u.jsx)(j.A,{})})}),(0,u.jsxs)(r.A.Footer,{children:[(0,u.jsx)(n.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:t,children:"Cancel"}),(0,u.jsx)(n.A,{className:"ms-3 btn-min-w "+(i?"spinner":""),onClick:this.reArrangePosts,children:"Done"})]})]})}}const T=(0,a.Ng)((e=>{var s;return{pinToTop:null===(s=e.moderation)||void 0===s?void 0:s.pinToTop}}),(e=>({MOD_PIN_LIST:()=>e((0,f.SKt)()),GET_PIN_TO_TOP_LIST:()=>e((0,o.qz)()),GET_REORDER_PIN_TO_TOP:(s,t,i)=>e((0,o.Z4)(s,t,i))})))(w)}}]);