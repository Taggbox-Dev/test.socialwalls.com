"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[9955],{99955:(e,t,s)=>{s.r(t),s.d(t,{default:()=>K});var l=s(89379),i=s(9950),a=s(98341),o=s(45358),n=s(10274),c=s(52867),r=s(28981),d=s(96125),h=s(18854),p=s(69174),g=s(25984),u=s(59051),m=s.n(u),x=s(68298),k=s(3686),f=s(49782),v=s(73501),b=s(95942),j=s(72530),T=s(97937),C=s(74378),A=s.n(C),w=s(44414);const P=(0,i.lazy)((()=>s.e(3907).then(s.bind(s,43907)))),y=(0,i.lazy)((()=>s.e(1163).then(s.bind(s,61163)))),N=(0,i.lazy)((()=>Promise.all([s.e(8092),s.e(2228)]).then(s.bind(s,52228)))),S=(0,i.lazy)((()=>s.e(8268).then(s.bind(s,88268)))),I=(0,i.lazy)((()=>s.e(6629).then(s.bind(s,76629)))),D=(0,i.lazy)((()=>s.e(4073).then(s.bind(s,4073)))),F=(0,i.lazy)((()=>Promise.all([s.e(8092),s.e(5399)]).then(s.bind(s,5399)))),U=(0,i.lazy)((()=>s.e(5646).then(s.bind(s,65646)))),M=(0,i.lazy)((()=>s.e(129).then(s.bind(s,90129)))),R=(0,i.lazy)((()=>s.e(8884).then(s.bind(s,48884))));class _ extends i.Component{constructor(){var e;super(...arguments),e=this,this.imageQueue=[],this.state={postID:null,id:null,data:null,itemIndex:null,modalData:null,firstRequest:!1,openpinToTopModal:!1,showModal:!1,currentIndex:null,isHighlight:!1,editTags:!1},this.clickToPin=(e,t,s)=>this.props.clickToPostPin(e,t,s),this.clickToGetUgc=e=>t=>{this.props.getUgcDetails(e),this.openUgcModal()},this.clickToDeletePost=(e,t)=>s=>this.props.clickToDeletePost(e,t,this.props.navigate),this.clickToBlockUser=(e,t)=>s=>this.props.clickToBlockUser(e,t),this.clickToPostStatus=(e,t,s)=>l=>this.props.clickToPostStatus(e,t,s),this.onClickToPostTags=e=>t=>{this.props.searchTagsFilter(e)},this.openUgcModal=e=>{this.props.ugcModal(!0)},this.clickToHighlight=function(t,s,l,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e.props.clickToPostHighlight(t,s,l,i,!1,(()=>e.moveTop(a,t,i)))},this.onRefreshPost=async e=>{await this.props.UPDATE_INSTA_POST_ACTION(e)},this.handleModalShow=(e,t)=>{this.setState({showModal:!0,modalData:e,currentIndex:t})},this.handleCallback=e=>{this.setState({showModal:e,modalData:e?this.state.modalData:null,currentIndex:null,editTags:!1})},this.moveTop=e=>{e&&this.handleModalShow(e,0);const t=document.querySelector(".dual_subheader_content");t&&t.scrollTo({top:0,behavior:"smooth"})},this.clickToGetLink=(e,t)=>{this.props.getUgcDetails(t),this.props.GET_UGC_REQUEST(t),this.props.onShow(e,t.ugcmodified)},this.handleImageError=e=>{const t=e.target.getAttribute("data-id");this.imageQueue.includes(t)||(this.imageQueue.push(t),this.state.firstRequest||this.processImageQueue())},this.processImageQueue=async()=>{this.setState({firstRequest:!0});const e=this.imageQueue[0],t=document.getElementById("imgID".concat(e));e&&(0,c.Cw)(e).then((e=>{let{data:s}=e;this.imageQueue.shift(),t&&(t.src=s.media),this.processImageQueue()})).catch((e=>{this.imageQueue.shift(),t&&(t.src=x.ru),this.processImageQueue()}))},this.slideAssets=e=>t=>{const{listData:s}=this.props;if(-1===e){let e=s.length-1;this.setState({currentIndex:e,modalData:s[e]})}else{let t=s.length==e?0:e;this.setState({currentIndex:t,modalData:s[t]})}}}componentDidUpdate(e){this.props.listData!==e.listData&&this.setState({modalData:this.props.listData[this.state.currentIndex]})}render(){const{total:e,activeTab:t,filter:s,moderation:l,getUgcDetails:a,ugcData:o,ugcPopup:n,ugcRequestData:r,onShow:d,upgradePlan:h,handleAllImageError:u,currRef:C}=this.props,{openpinToTopModal:_,showModal:E,modalData:L,editTags:z,currentIndex:B}=this.state;let Q=null===s||void 0===s?void 0:s.tags.join();return(0,w.jsxs)("div",{className:"w-100 mb-4 mb-lg-0",children:[(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(R,{show:3==t,containerRef:C,upgradePlan:h})}),(0,w.jsxs)(A(),{className:"grid grid_mod row grid-view-content gx-3",elementType:"div",disableImagesLoaded:!1,updateOnEachImageLoad:!0,enableResizableChildren:!0,children:[(0,w.jsx)("div",{className:"assetsItem"}),null!==l&&void 0!==l&&l.listData&&(null===l||void 0===l?void 0:l.listData.length)>0?null===l||void 0===l?void 0:l.listData.map(((s,l)=>{var o,n;const r=(0,c.EC)(s.networkId);return s.status==t||0==t?(0,w.jsx)("div",{"total-items":e,className:"assetsItem mb-3 ".concat(1==s.highlight?"grid-2x":""),id:"content_id-".concat(s.id),"data-post-id":s.id,"data-highlight":s.highlight,"data-pinned":s.pin,"data-created":s.createdAt,children:(0,w.jsx)(p.A,{children:(0,w.jsx)(k.A,{className:"border-0",children:(0,w.jsxs)(k.A.Body,{className:"p-0 bg-white",children:[(0,w.jsxs)("div",{className:"f-between px-3 py-2",style:{boxShadow:"0px 1px 0px rgba(0,0,0,.1)"},children:[(0,w.jsxs)("div",{className:"m_top_tools d-flex align-items-center list-inline mb-0",id:"post-actions-".concat(s.id),children:[(0,w.jsx)(f.A.Check,{className:"form-check btn btn-icon btn-sm d-flex align-items-center border-0",checked:s.isChecked,value:s.isChecked,onChange:this.props.clickPostChecked(l)}),1==s.status&&1!=s.type?(0,w.jsx)(v.A,{placement:"top",overlay:(0,w.jsx)(b.A,{children:"Spotlight"}),children:(0,w.jsx)("span",{className:"spotlight_highlight d-flex align-items-center border-0 cursor-pointer h-18px w-18px me-2",onClick:()=>this.clickToHighlight(l,s.postId,s.id,s.highlight),"data-value":s.pin,children:s.highlight?(0,w.jsx)(x.gc,{type:"regular",icon:"circle-stop",iconClass:"spotlight-off text-danger".concat(1==s.highlight?" fs-5":" fs-6")}):(0,w.jsx)(x.gc,{type:"solid",icon:"telescope",iconClass:"spotlight-off fs-6 text-secondary"})})}):null,(0,w.jsx)(v.A,{placement:"top",overlay:(0,w.jsx)(b.A,{children:"Pin to Top"}),children:(0,w.jsx)("span",{className:"d-flex align-items-center w-18px h-18px border-0 cursor-pointer me-2 ".concat(s.pin?"text-gradient":"text-muted"),onClick:()=>{var e;return this.clickToPin(l,null!==(e=s.imageList)&&void 0!==e&&e.length?s.ptPost:s.postId,s.pin)},"data-value":s.pin,children:(0,w.jsx)(x.gc,{type:"solid",icon:"thumbtack",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")})})}),(3==s.networkId&&62==s.feedFilter||18==s.networkId&&(24==s.feedFilter||25==s.feedFilter||26==s.feedFilter))&&null==s.ugcstatus&&1!=s.type&&"true"!=localStorage.getItem("wallLimitExceed")?(0,w.jsx)(v.A,{placement:"top",overlay:(0,w.jsx)(b.A,{children:"UGC Rights"}),children:(0,w.jsx)("span",{className:"d-flex align-items-center w-18px h-18px border-0 cursor-pointer ".concat(s.highlight?"me-3":"me-2"),onClick:()=>{a(s),this.openUgcModal()},children:null==s.ugcRights||4==s.ugcstatus||2==s.ugcstatus?(0,w.jsx)(x.gc,{type:"solid",icon:"user-check",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")}):1==s.ugcstatus?(0,w.jsx)(x.gc,{type:"solid",icon:"user-clock",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")}):3==s.ugcstatus?(0,w.jsx)(x.gc,{type:"solid",icon:"user-xmark",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")}):""})}):null,(0,w.jsx)(v.A,{placement:"top",overlay:(0,w.jsx)(b.A,{children:"Tags"}),children:(0,w.jsx)("span",{className:"Tags d-flex align-items-center w-18px h-18px border-0 cursor-pointer ".concat(s.highlight?"me-3":"me-2"),onClick:()=>{this.handleModalShow(s,l),this.setState({editTags:!0})},"data-value":s.pin,children:(0,w.jsx)(x.gc,{type:"solid",icon:"tag",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")})})})]}),(0,w.jsxs)(j.A,{children:[(0,w.jsx)(v.A,{placement:"top",overlay:(0,w.jsx)(b.A,{children:"More Actions"}),children:(0,w.jsx)(j.A.Toggle,{variant:"",className:"arrow_disabled after-none dropdown-toggle border-0 p-0",children:(0,w.jsx)(x.gc,{icon:"ellipsis",iconClass:"p-0 text-secondary".concat(1==s.highlight?" fs-3":" fs-5")})})}),(0,w.jsxs)(j.A.Menu,{children:[1!=s.ugcstatus||2!=s.ugcstatus?(0,w.jsxs)(j.A.Item,{onClick:this.clickToDeletePost(s,l),children:[(0,w.jsx)("span",{className:"me-2",children:(0,w.jsx)(x.gc,{type:"solid",icon:"trash-can"})}),"Delete Post"]}):null,(0,w.jsxs)(j.A.Item,{onClick:this.clickToBlockUser(l,s.username),disabled:"true"==localStorage.getItem("wallLimitExceed"),children:[(0,w.jsx)("span",{className:"me-2",children:(0,w.jsx)(x.gc,{type:"solid",icon:"ban"})}),"Block User"]}),""!=s.newlink&&null!=s.newlink?(0,w.jsxs)(j.A.Item,{href:s.newlink,target:"_blank",children:[(0,w.jsx)("span",{className:"me-2",children:(0,w.jsx)(x.gc,{type:"solid",icon:"paper-plane"})}),"View Post"]}):null,s.pin?(0,w.jsxs)(j.A.Item,{onClick:()=>this.setState({openpinToTopModal:!0}),children:[(0,w.jsx)("span",{className:"me-2",children:(0,w.jsx)(x.gc,{type:"solid",icon:"right-left"})}),"Change Order"]}):""]})]})]}),(0,w.jsxs)("div",{className:"p-3",children:[s.highlight?(0,w.jsx)("div",{className:"live-tag mb-3",children:(0,w.jsxs)("p",{className:"d-flex align-items-start m-0",children:[(0,w.jsxs)("label",{className:"d-inline-flex align-items-center me-2 bg-danger text-white m-0 px-2",children:[(0,w.jsx)("small",{className:"bg-white h-8px w-8px me-2 d-inline-block rounded-circle"})," Live"]}),(0,w.jsxs)("span",{className:"f-center",children:["Click on ",(0,w.jsx)(x.gc,{type:"regular",icon:"circle-stop",iconClass:"spotlight-off text-danger fs-5 mx-1"}),"button to stop Spotlight"]})]})}):null,(0,w.jsx)("div",{className:"position-relative w-100",children:(0,w.jsxs)("div",{className:"rounded overflow-hidden",onClick:()=>"true"!=localStorage.getItem("wallLimitExceed")?this.handleModalShow(s,l):{},children:[s.imageList&&s.imageList.length?(0,w.jsx)("span",{className:"position-absolute top-0 end-0 p-2",style:{zIndex:2},children:(0,w.jsx)(x.gc,{type:"solid",icon:"clone",iconClass:"text-white filter-shadow"})}):null,1==s.type?(0,w.jsx)(I,{mediaClass:"bg-light",content:s.postcontent,rating:s.rating,socialNetworkId:s.networkId}):2==s.type||4==s.type?(0,w.jsx)(D,{mediaClass:"content_img_",size:!1,url:s.postFile,height:s.mediaHeight,width:s.mediaWidth,icon:s.networkId,isCover:!0,rating:s.rating,alt:"",handleAllImageError:u,item:s}):3==s.type||5==s.type?(0,w.jsxs)(w.Fragment,{children:[s.mediaClip?(0,w.jsx)(F,{item:s,mediaClass:"content_video",size:!1,url:s.mediaClip,poster:s.postFile,height:s.mediaHeight,width:s.mediaWidth,autoPlay:!0,muted:!0,isCover:!0,controls:!1,loop:!0}):(0,w.jsx)(D,{mediaClass:"content_img_",size:!1,url:s.postFile,height:s.mediaHeight,width:s.mediaWidth,icon:s.networkId,rating:s.rating,alt:"",handleAllImageError:u,isCover:!0,item:s}),(0,w.jsx)("div",{className:"position-absolute end-0 top-0 text-white mt-2 me-2",children:(0,w.jsx)(x.gc,{type:"solid",icon:"video",iconClass:"filter-shadow fs-6"})})]}):null]})}),[1,2,3,4].includes(s.ugcstatus)&&(0,w.jsx)("div",{className:"w-100",children:(()=>{const e={1:{bg:"warning",icon:"user-clock",text:"Pending",showTime:!0},2:{bg:"success",icon:"user-check",text:"Approved"},3:{bg:"danger",icon:"user-xmark",text:"Rejected"},4:{bg:"danger",icon:"user-xmark",text:"Expired"}}[s.ugcstatus];return e?(0,w.jsxs)("div",{onClick:()=>this.clickToGetLink(s.ugcstatus,s),className:"bg-".concat(e.bg," f-center text-white fw-medium p-1 w-100 fs-9 cursor-pointer"),children:[(0,w.jsxs)("span",{className:"me-1",children:[" ",(0,w.jsx)(x.gc,{type:"solid",icon:e.icon})," "]}),e.text," ",e.showTime&&s.ugccreated&&(0,w.jsxs)("small",{children:[" (",m()(m()(s.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow(),") "]})]}):null})()}),1==s.ctastatus&&""!=s.buttonText?(0,w.jsx)("div",{className:"d-flex p-2 w-100 grid-cta-status-".concat(s.id),children:(0,w.jsx)("a",{className:"btn font-weight-bold text-nowrap w-100",title:s.buttonText,target:"_blank",href:"".concat(s.buttonUrl&&s.buttonUrl.includes("http")?s.buttonUrl:"//".concat(s.buttonUrl)),style:{backgroundColor:s.ctaButtonColor,color:s.ctaTextColor},children:(0,w.jsx)("span",{children:s.buttonText})})}):null]}),s.rating>0&&1!=s.type?(0,w.jsx)("div",{className:"d-flex justify-content-start p-3 pb-0",children:(0,w.jsx)(U,{className:"fs-5",iconClass:"me-1",rating:s.rating})}):null,(0,w.jsxs)("div",{className:"px-3 pb-3",children:[(0,w.jsxs)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[" ",(0,w.jsx)(P,{item:s,onClickToPostTags:this.onClickToPostTags,selection:Q},s.tags)," "]}),(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsx)("div",{className:"d-flex align-items-center pe-2",style:{maxWidth:"calc(100% - 25px)"},children:(0,w.jsxs)("div",{className:"d-flex align-items-center overflow-hidden",style:{maxWidth:"100%"},children:[(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(S,{imageSize:36,symbolClass:"symbol-36 f-center text-white fs-5",className:"symbol-36 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:(0,g.Ay)(s.username),profileUrl:s.picture,networkId:s.networkId})}),(0,w.jsxs)("div",{className:"d-flex flex-column flex-grow-1 overflow-hidden",children:[null!==s&&void 0!==s&&s.link?(0,w.jsx)("a",{href:null===s||void 0===s?void 0:s.link,target:"_blank",className:"mb-0 text-ellipsis fw-bold text-body",children:s.name}):(0,w.jsx)("span",{className:"mb-0 text-ellipsis fw-bold text-body",children:s.name}),(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:["@",(0,g.Ay)(s.username)]}),(0,w.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1 d-flex flex-shrink-0",style:{backgroundColor:"var(--bs-gray-600)"}}),(0,w.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:[" ",m()(new Date(1e3*s.createdAt)).fromNow()]})]})]})]})}),(0,w.jsx)("span",{className:"f-center",children:"rss"==r?(0,w.jsx)(x.gc,{type:"solid",icon:r,iconClass:"mx-2 fs-4"}):"onsite-upload"==r?(0,w.jsx)("i",{className:"fab fa-onsite-upload fs-4"}):(0,w.jsx)(x.gc,{type:"brands",icon:r,iconClass:"mx-2 fs-4"})})]})]}),(0,w.jsxs)("div",{className:"d-flex align-items-center p-3 border-top",children:[3!=s.status?(0,w.jsx)("div",{className:"w-50 me-1",children:(0,w.jsx)(T.A,{variant:"public",size:"sm",onClick:this.clickToPostStatus(l,null!==(o=s.imageList)&&void 0!==o&&o.length?s.ptPost:s.postId,1),className:"".concat(1==s.status?"disabled":""," w-100"),disabled:"true"==localStorage.getItem("wallLimitExceed"),children:"Public"})}):null,3!=s.status?(0,w.jsx)("div",{className:"w-50 ms-1",children:(0,w.jsx)(T.A,{variant:"private",size:"sm",onClick:this.clickToPostStatus(l,null!==(n=s.imageList)&&void 0!==n&&n.length?s.ptPost:s.postId,2),className:"".concat(2==s.status?"disabled":""," w-100"),disabled:"true"==localStorage.getItem("wallLimitExceed"),children:"Private"})}):null]})]})})})},"post".concat(l,"_").concat(s.id)):null})):(0,w.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,w.jsxs)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[" ",(0,w.jsx)(M,{title:"No Posts!",desc:"",icon:"media",isFullScreen:!1})," "]})})]}),L?(0,w.jsxs)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[" ",(0,w.jsx)(N,{clickToPin:this.clickToPin,clickToGetUgc:this.clickToGetUgc,clickToDeletePost:this.clickToDeletePost,clickToBlockUser:this.clickToBlockUser,clickToPostStatus:this.clickToPostStatus,modalCallback:this.handleCallback,modalToggle:E,modalData:L,exportDonwloadMedia:this.exportDonwloadMedia,slideAssets:this.slideAssets,editTags:z,closeEditTag:()=>this.setState({editTags:!1}),currentIndex:B,filter:s,handleAllImageError:u,onRefreshPost:this.onRefreshPost,highLightPost:this.clickToHighlight})," "]}):null,(0,w.jsxs)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:[" ",(0,w.jsx)(y,{openpinToTopModal:_,closeModalPop:()=>this.setState({openpinToTopModal:!1})})," "]})]})}}const E=(0,a.Ng)((e=>{var t,s,l,i;return{isEditing:null===(t=e.moderation)||void 0===t?void 0:t.isEditing,ugcData:null===(s=e.moderation)||void 0===s?void 0:s.ugcData,ugcPopup:null===(l=e.moderation)||void 0===l?void 0:l.ugcPopup,ugcRequestData:null===(i=e.moderation)||void 0===i?void 0:i.ugcRequestData,moderation:e.moderation,limits:e.limitExceed}}),(e=>({clickToPostStatus:(t,s,l,i)=>e((0,n.QK)(t,s,l,i)),clickToPostPin:(t,s,l)=>e((0,n.b4)(t,s,l)),clickToDeletePost:(t,s,l)=>e((0,n.xL)(t,s,l)),clickToBlockUser:(t,s)=>e((0,n.C8)(t,s)),getUgcDetails:t=>e((0,n.Qb)(t)),ugcModal:t=>e((0,n.$k)(t)),UPDATE_INSTA_POST_ACTION:t=>e((0,n.KH)(t)),GET_UGC_REQUEST:t=>e((0,n.rA)(t)),clickToPostHighlight:(t,s,l,i,a,o)=>e((0,n._m)(t,s,l,i,a,o))})))(_),L=(0,i.lazy)((()=>Promise.all([s.e(2796),s.e(8837)]).then(s.bind(s,98837)))),z=(0,i.lazy)((()=>s.e(2807).then(s.bind(s,12807)))),B=(0,i.lazy)((()=>s.e(6029).then(s.bind(s,36029)))),Q=(0,i.lazy)((()=>Promise.all([s.e(8092),s.e(3556),s.e(2275),s.e(8604)]).then(s.bind(s,48117)))),H=(0,i.lazy)((()=>Promise.all([s.e(8092),s.e(3556),s.e(9452),s.e(2250)]).then(s.bind(s,52250)))),G=(0,i.lazy)((()=>s.e(3325).then(s.bind(s,13325)))),O=(0,i.lazy)((()=>s.e(129).then(s.bind(s,90129)))),W=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,14562)))),q=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,10889))));class Y extends i.Component{constructor(){var e;super(...arguments),e=this,this.allImageQueue=[],this.ref=i.createRef(null),this.state={total:0,isCheckAll:!1,isCheckedPostCount:0,perPageCount:10,activePage:1,filters:[],allFirstImage:!1,statusPopup:0,showFilterTab:!1,aiUpgrade:null,filterTab:0},this.clickToCheckAll=e=>{const{isCheckAll:t}=this.state;this.setState({isCheckAll:!t},(()=>{this.onActionUpdateOpcity(),this.props.updateCheckAll(this.state.isCheckAll)}))},this.clickToCheckStatusAll=e=>t=>{this.onActionUpdateOpcity(),this.props.updateCheckStatusAll(e)},this.clickToUncheckAll=e=>{this.setState({isCheckAll:!1},(()=>{this.onActionUpdateOpcity(),this.props.removeCheckAll(!1)}))},this.clickPostChecked=e=>t=>this.props.selectPostUpdate(e,this.onActionUpdateOpcity()),this.onActionUpdateOpcity=()=>{const{isCheckAll:e,isCheckedPostCount:t}=this.state;(e||t>0)&&(document.getElementsByClassName("modSelectNo")&&document.getElementsByClassName("modSelectNo")[0]&&(0,c.UD)(document.getElementsByClassName("modSelectNo")[0]),document.getElementsByClassName("filter-bar")&&document.getElementsByClassName("filter-bar")[0]&&(0,c.UD)(document.getElementsByClassName("filter-bar")[0]))},this.clickToTab=e=>t=>this.props.activeTabActionFilter(e),this.onDateRangeFilter=(e,t)=>this.props.dateRangeFilter(e,t),this.onClickToFilterUpdateStatus=e=>t=>this.props.clickToPostStatusALL(e),this.onClickToFilterDeleteAll=e=>this.props.clickToPostDeleteALL(this.props.navigate),this.onClickNextPage=e=>this.props.onNextNavigateClick(),this.onClickPrevPage=e=>this.props.onPrevNavigateClick(),this.onChangePage=e=>t=>{this.props.onUpdatePage(e)},this.onClickReset=e=>{let t=this.state.filters.filter((t=>t.key===e.key));t=t.filter((t=>{if(["postType","socialFeed","other"].includes(t.key))return t.value.filter((t=>!e.value.includes(t)))})),this.setState({filters:t},(()=>this.props.clickToRefresh()))},this.onClickAllReset=e=>this.setState({filters:[]},(()=>this.props.getModeration())),this.upgradeTrueSensePlan=()=>this.setState({aiUpgrade:null},(()=>setTimeout((()=>this.props.upgradePlan()),100))),this.showAiUpgradePop=e=>this.setState({aiUpgrade:e,autoMod:!1}),this.handleAllImageError=e=>{try{const t=e.target.getAttribute("data-id");this.allImageQueue.some((e=>e.src===t))||this.allImageQueue.push({src:t,e:e}),this.state.allFirstImage||this.processAllImageQueue()}catch(t){console.log("error",t)}},this.processAllImageQueue=async()=>{this.allImageQueue.length&&!this.state.allFirstImage&&(this.setState({allFirstImage:!0}),this.processNextImage())},this.processNextImage=()=>{try{const{src:e,e:t}=this.allImageQueue[0];e&&(0,c.bs)(t,this.nextProcessAllImageQueue)}catch(e){console.log("error",e)}},this.nextProcessAllImageQueue=()=>{try{this.allImageQueue.shift(),this.allImageQueue.length?this.processNextImage():this.setState({allFirstImage:!1})}catch(e){console.log("error",e)}},this.updatepostCarosal=e=>{const{allWalls:t,galleryUpdate:s,postCarosal:l}=this.props;l(e);const i=(null===t||void 0===t?void 0:t.length)&&t.find((e=>e.id==localStorage.getItem("wallId")));i&&s({name:i.name,status:e,carouselPost:e,autoUpdate:i.autoUpdate||0,deleted:0,id:i.id,action:2})},this.openugcModel=()=>this.props.ugcModal(!0),this.onShow=e=>this.setState({statusPopup:e}),this.hideFilterBody=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.setState((s=>(0,l.A)((0,l.A)({},s),{},{showFilterTab:!t&&!e.state.showFilterTab})))}}componentDidUpdate(e,t){var s,l;e.moderation.changeModeration_wall!==this.props.moderation.changeModeration_wall&&this.props.moderation.changeModeration_wall&&this.setState({activeTab:null===(s=this.props.moderation)||void 0===s||null===(l=s.filter)||void 0===l?void 0:l.status},this.clickToUncheckAll)}componentWillMount(){const{params:e,userDetails:t,getTags:s}=this.props,l=window.location.href.replace(null===e||void 0===e?void 0:e.id,localStorage.getItem("wallId"));window.history.pushState(null,"",l),window.feedId=e.feedId,null!==t&&void 0!==t&&t.userTags||s(localStorage.getItem("ownerId"))}componentDidMount(){document.cookie="callBackUrl=React",localStorage.removeItem("createFeedObj"),this.props.getModeration()}componentWillUnmount(){this.allImageQueue=[],this.props.removeAllFilterBody(!0)}render(){var e;const{isCheckAll:t,perPageCount:s,activePage:a,filters:n,aiUpgrade:c,showFilterTab:r,filterTab:d}=this.state,{moderation:h,searchTagsFilter:g,limitUpdate:u,loader:m,postCarosal:x,showAutoPilotD:k,userDetails:f,clickToRefresh:v,ugcModal:b,clearUgcData:j,removeAllFilterBody:T,searchPostFilter:C,allWalls:A,wallsLoader:P,feeds:y,ugcData:N,ugcPopup:S,UGC_DATA_RM:I,navigate:D,getTags:F,toggleAutoPilot:U,onUpdateTags:M,upgradePlan:R}=this.props,_=null===h||void 0===h||null===(e=h.filter)||void 0===e?void 0:e.status;return(0,w.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content moderation__",children:[(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,i.createElement)(L,(0,l.A)((0,l.A)((0,l.A)({postCarosal:this.updatepostCarosal,clickToRefresh:v},this.props),this.state),{},{clickToCheckAll:this.clickToCheckStatusAll,clickToUncheckAll:this.clickToUncheckAll,isCheckedPostCount:null===h||void 0===h?void 0:h.isCheckedPostCount,onClickToViewFilter:this.onClickToViewFilter,total:null===h||void 0===h?void 0:h.total,clickToTab:this.clickToTab,onDateRangeFilter:this.onDateRangeFilter,onClickToFilterUpdateStatus:this.onClickToFilterUpdateStatus,onClickToFilterDeleteAll:this.onClickToFilterDeleteAll,onNextNavigateClick:this.onClickNextPage,onPrevNavigateClick:this.onClickPrevPage,onChangePage:this.onChangePage,onAppliedFilter:this.onAppliedFilter,activeTab:_,key:_,changeFilterTab:e=>this.setState({filterTab:e})}))}),(0,w.jsxs)(o.A,{fluid:!0,className:"position-relative py-3 dual_subheader_content",children:[(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(z,(0,l.A)((0,l.A)({},this.props),{},{filterBody:h.filterBody,showFilterTab:r,filterTab:d,hideFilterBody:this.hideFilterBody,showAiUpgradePop:this.showAiUpgradePop,changeFilterTab:e=>this.setState({filterTab:e})}))}),(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(B,(0,l.A)((0,l.A)({},this.props),{},{filterBody:h.filterBody,filters:h.filter}))}),(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(H,(0,l.A)((0,l.A)({},this.props),{},{statusPopup:this.state.statusPopup,onHide:()=>{this.setState({statusPopup:0}),I()},openugcModel:this.openugcModel}))}),0!=(null===h||void 0===h?void 0:h.total)||null!==h&&void 0!==h&&h.filterLoader?(0,w.jsx)("div",{className:"moderation_card tab-content",ref:this.ref,children:m.filterLoader?(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(G,(0,l.A)({},this.props))}):(0,w.jsx)(p.A,{children:(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(E,(0,l.A)((0,l.A)({clickPostChecked:this.clickPostChecked,currRef:this.ref},h),{},{removeAllFilterBody:T,activeTab:_,searchTagsFilter:g,onAppliedFilter:this.onAppliedFilter,handleAllImageError:this.handleAllImageError,filters:n,onClickAllReset:this.onClickAllReset,onClickReset:this.onClickReset,onShow:this.onShow,navigate:D,upgradePlan:R}))})})}):(0,w.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(O,{title:y&&y.length?"No Posts!":"Whoops! You have not created a feed! \u231b",desc:"",icon:"media",isFullScreen:!1})})}),S?(0,w.jsx)(p.A,{children:(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(Q,{ugcData:N,hideUgc:()=>{b(!1),j()}})})}):""]}),k?(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(W,{userDetails:f,getTags:F,closeModeration:()=>U(!1),showUpgradePop:this.showAiUpgradePop,moderation:h})}):null,c?(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(q,{show:c,handleClose:()=>this.setState({aiUpgrade:null}),exploreSocialWall:this.upgradeTrueSensePlan,type:c})}):null]})}}const K=(0,a.Ng)((e=>{var t,s,l,i,a,o,n,c,r,d,h,p,g,u;return{moderation:e.moderation,loader:e.loader,ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,allFont:e.allFont,showAddFeed:null===(s=e.modalReducer)||void 0===s?void 0:s.showAddFeed,showManageFeed:null===(l=e.modalReducer)||void 0===l?void 0:l.showManageFeed,showCta:null===(i=e.modalReducer)||void 0===i?void 0:i.showCta,wallsLoader:null===(a=e.dashboardData)||void 0===a?void 0:a.wallsLoader,addGalleryNow:null===(o=e.dashboardData)||void 0===o?void 0:o.addGalleryNow,ctaData:null===(n=e.ctaData)||void 0===n?void 0:n.data,ugcData:null===(c=e.moderation)||void 0===c?void 0:c.ugcData,ugcPopup:null===(r=e.moderation)||void 0===r?void 0:r.ugcPopup,ugcRequestData:null===(d=e.moderation)||void 0===d?void 0:d.ugcRequestData,feeds:null===(h=e.manageFeeds)||void 0===h?void 0:h.feeds,allWalls:null===(p=e.dashboardData)||void 0===p||null===(g=p.dashboarddata)||void 0===g?void 0:g.allWalls,userDetails:e.authenticated,showAutoPilotD:null===(u=e.displayModalSection)||void 0===u?void 0:u.showAutoPilotD}}),(e=>({getModeration:t=>e((0,n.zI)(t)),activeTabActionFilter:t=>e((0,n.ww)(t)),updateCheckAll:t=>e((0,n.$)(t)),selectPostUpdate:(t,s)=>e((0,n.ax)(t,s)),dateRangeFilter:(t,s)=>e((0,n.AX)(t,s)),clickToPostStatusALL:t=>e((0,n.lg)(t)),clickToPostDeleteALL:t=>e((0,n.wi)(t)),searchTagsFilter:t=>e((0,n.cO)(t)),searchPostFilter:t=>e((0,n.HD)(t)),limitUpdate:t=>e((0,n.PH)(t)),onNextNavigateClick:()=>e((0,n.yH)()),onPrevNavigateClick:()=>e((0,n.Ec)()),onUpdatePage:t=>e((0,n.eJ)(t)),clickToRefresh:()=>e((0,n.LT)()),postCarosal:t=>e((0,n.gL)(t)),removeAllFilterBody:t=>e((0,n.ud)(t)),removeCheckAll:t=>e((0,n.KN)(t)),updateCheckStatusAll:t=>e((0,n.$3)(t)),ugcModal:t=>e((0,n.$k)(t)),clearUgcData:()=>e((0,n.nh)()),UGC_DATA_RM:()=>e((0,n.Ao)()),getTags:t=>e((0,r.to)(t)),onUpdateTags:(t,s,l)=>e((0,n.K)(t,s,l)),upgradePlan:()=>e((0,d.wQ)(!0)),toggleAutoPilot:t=>e((0,d.Di)(t))})))(i.memo((0,h.A)(Y)))}}]);