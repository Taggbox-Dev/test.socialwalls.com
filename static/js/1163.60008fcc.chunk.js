"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[1163],{61163:(e,s,i)=>{i.r(s),i.d(s,{default:()=>T});var t=i(89379),n=i(9950),o=i(97937),r=i(41294),l=i(98341),a=i(10274),d=i(68281),c=(i(70804),i(3686)),p=i(73501),h=i(95942),m=i(52867),x=i(68298),u=i(4073),g=i(88268),v=i(19115),f=i(15903),j=i(44414);class w extends n.Component{constructor(e){super(e),this.reArrangePosts=()=>{const{newArray:e,updateOrder:s}=this.state,i=e.map((e=>e.id)),t=e.map(((e,s)=>s+1));s&&(this.setState({spinner:!0}),this.props.GET_REORDER_PIN_TO_TOP(i,t,(()=>{this.setState({spinner:!1},(()=>this.props.closeModalPop()))})))},this.onLoadData=e=>{const{pinToTop:s}=e;this.setState({items:s,newArray:s})},this.state={items:[],newArray:[],spinner:!1,updateOrder:!1},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){this.onLoadData(this.props)}componentDidUpdate(e){e.openpinToTopModal!==this.props.openpinToTopModal&&this.props.openpinToTopModal&&this.props.GET_PIN_TO_TOP_LIST(),e.pinToTop!==this.props.pinToTop&&this.onLoadData(this.props)}onDragEnd(e){if(!e.destination)return;const s=((e,s,i)=>{const t=Array.from(e),[n]=t.splice(s,1);return t.splice(i,0,n),t})(this.state.items,e.source.index,e.destination.index);this.setState({items:s,newArray:s,updateOrder:!0})}render(){var e;const{openpinToTopModal:s,closeModalPop:i}=this.props,{spinner:n}=this.state;return(0,j.jsxs)(r.A,{className:"pintotop_modal",size:"lg",show:s,onHide:i,centered:!0,children:[(0,j.jsx)(r.A.Header,{closeButton:!0,children:(0,j.jsx)(r.A.Title,{children:"Change Order"})}),(0,j.jsx)(r.A.Body,{children:(0,j.jsx)("div",{className:"px-3 overflow-auto",style:{height:500},children:this.state.items&&(null===(e=this.state.items)||void 0===e?void 0:e.length)>0?(0,j.jsx)(d.JY,{onDragEnd:this.onDragEnd,children:(0,j.jsx)(d.gL,{droppableId:"droppable",children:(e,s)=>(0,j.jsx)("div",(0,t.A)((0,t.A)({},e.droppableProps),{},{ref:e.innerRef,style:(s.isDraggingOver,{}),children:this.state.items&&this.state.items.length&&this.state.items.map(((e,s)=>(0,j.jsx)(d.sx,{draggableId:"item-".concat(s),index:s,children:(i,n)=>{var o,r,l,a,d,v;return(0,j.jsx)("div",(0,t.A)((0,t.A)((0,t.A)({ref:i.innerRef},i.draggableProps),i.dragHandleProps),{},{style:(n.isDragging,v=i.draggableProps.style,(0,t.A)({},v)),children:(0,j.jsx)(c.A,{"data-id":e.id,className:"mb-3",children:(0,j.jsxs)(c.A.Body,{className:"p-2",children:[(0,j.jsx)("span",{className:"position-absolute start-0 translate-middle h-18px w-18px rounded-circle f-center bg-dark text-white top-50 fs-10 fw-medium",style:{zIndex:1},children:s+1}),(0,j.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,j.jsx)("div",{className:"f-center h-100 text-gray-300 me-lg-2 mb-2 fs-6",children:(0,j.jsx)(x.gc,{type:"solid",icon:"grip-dots-vertical"})}),(0,j.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer pe-lg-4 mx-auto mb-lg-0 mb-3",style:{width:120},children:(0,j.jsx)(u.A,{mediaClass:"position-relative rounded-1 overflow-hidden w-100",size:100,height:120,width:120,url:e.newMedia,alt:"",isCover:!0})}),(0,j.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 w-100 overflow-hidden",children:[(0,j.jsxs)("div",{className:"d-flex align-items-start mb-1",children:[(0,j.jsxs)("a",{href:e.link,target:"_blank",className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none text-gray-800",children:[(0,j.jsx)(g.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fs-5",name:null===e||void 0===e||null===(o=e.author)||void 0===o?void 0:o.username,profileUrl:null===e||void 0===e||null===(r=e.author)||void 0===r?void 0:r.picture,networkId:e.networkId}),(0,j.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,j.jsx)("p",{className:" mb-0",children:(0,j.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:null===e||void 0===e||null===(l=e.author)||void 0===l?void 0:l.name})}),(0,j.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",null===e||void 0===e||null===(a=e.author)||void 0===a?void 0:a.username]})]})]}),(0,j.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,j.jsx)(p.A,{placement:"top",overlay:(0,j.jsx)(h.A,{children:(0,m.Oi)(e.networkId)}),children:(0,j.jsx)(x.gc,{icon:(0,m.EC)(e.networkId),iconClass:"fs-4 fab ".concat(12==e.networkId?"fa-solid":"fa-brands")})})})]}),(0,j.jsx)("p",{className:"line-clamp line-clamp-3 mb-1",children:null===e||void 0===e||null===(d=e.content)||void 0===d?void 0:d.text})]})]})]})})}))}},"item-".concat(s))))}))})}):(0,j.jsx)(f.A,{})})}),(0,j.jsxs)(r.A.Footer,{children:[(0,j.jsx)(o.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:i,children:"Cancel"}),(0,j.jsx)(o.A,{className:"ms-3 btn-min-w ".concat(n?"spinner":""),onClick:this.reArrangePosts,children:"Done"})]})]})}}const T=(0,l.Ng)((e=>{var s;return{pinToTop:null===(s=e.moderation)||void 0===s?void 0:s.pinToTop}}),(e=>({MOD_PIN_LIST:()=>e((0,v.SKt)()),GET_PIN_TO_TOP_LIST:()=>e((0,a.qz)()),GET_REORDER_PIN_TO_TOP:(s,i,t)=>e((0,a.Z4)(s,i,t))})))(w)}}]);