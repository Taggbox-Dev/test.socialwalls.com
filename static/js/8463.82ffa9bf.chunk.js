"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[8463],{88268:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(9950),l=s(52867),a=s(44414);const o=e=>{let{imageSize:t,symbolClass:s,className:o,name:n,profileUrl:d,networkId:c,errorPic:r}=e;const[h,u]=(0,i.useState)(!1);return(0,a.jsx)("div",{className:o,children:h||""===d?(0,a.jsxs)("span",{className:`${s} rounded-circle text-white`,style:{backgroundColor:"#000"},children:[" ",(0,l.t$)(n)," "]}):(0,a.jsx)("img",{src:d,height:t,width:t,alt:n,onError:e=>{r?e.target.src=r:u(!0)}})})}},4073:(e,t,s)=>{s.d(t,{A:()=>d});var i=s(68298),l=s(51960),a=s(52867),o=s(9950),n=s(44414);const d=e=>{let{mediaClass:t,size:s,height:d,width:c,url:r,alt:h,isProduct:u,handleAllImageError:m,item:p,isCover:g}=e;const[v,x]=(0,o.useState)(s||100);(0,o.useEffect)((()=>{(async()=>{if(s)x(s);else if(d&&""!=d&&c&&""!=c)x(100*d/c);else try{const{width:e,height:t}=await(0,a.pG)(r);x(100*t/e)}catch(e){x(100)}})()}),[s]);return(0,n.jsx)("div",{className:`${t} overflow-hidden position-relative`,style:{paddingBottom:`${v}%`},children:(0,n.jsx)(l.A,{className:"position-absolute  h-100 w-100 object-center-"+(g?"cover":"contain"),loading:"lazy",src:r,height:d,width:c,"data-load":"0","data-id":null===p||void 0===p?void 0:p.id,"data-network":null===p||void 0===p?void 0:p.networkId,alt:""!=h?h:(0,a.wG)(r),onError:e=>{m&&m(e),(e=>{e.target.src=u?i.RO:i.ru})(e)},fluid:!0})})}},76629:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(70804),l=s(65646),a=s(44414);const o=e=>{let{content:t,mediaClass:s,rating:o,fontSize:n,lineCount:d,size:c}=e;return(0,a.jsx)("div",{className:`position-relative overflow-hidden ${s}`,style:{paddingBottom:`${c||"100"}%`},children:(0,a.jsxs)("div",{className:"w-100 f-center flex-column position-absolute start-0 top-0 h-100 p-3",children:[o?(0,a.jsx)("div",{className:"f-center ps-1 mb-4",children:(0,a.jsx)(l.default,{className:"mx-1 fs-3",iconClass:"mx-1",rating:o})}):null,(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("p",{className:`text-center line-clamp-${d||4} line-clamp mb-0 ${n?"":"fs-7"}`,style:{fontSize:n},children:(0,i.Ay)(t)})})]})})}},5399:(e,t,s)=>{s.d(t,{A:()=>d});var i=s(9950),l=s(38092),a=s.n(l),o=s(52867),n=s(44414);const d=e=>{let{item:t,mediaClass:s,size:l,height:d,width:c,url:r,poster:h,autoPlay:u,muted:m,isCover:p,controls:g,loop:v,isupdate:x}=e;const[f,k]=(0,i.useState)(!1),[b,j]=(0,i.useState)(l||100);(0,i.useEffect)((()=>{(async()=>{if(l)j(l);else if(d&&""!=d&&c&&""!=c)j(100*d/c);else try{const{width:e,height:t}=await(0,o.pG)(h);j(100*t/e)}catch(e){j(100)}})()}),[l]);return(0,n.jsx)("div",{className:`${s} overflow-hidden position-relative`,style:{paddingBottom:`${b}%`},children:(0,n.jsx)("div",{className:"position-absolute object-center-cover h-100 w-100",children:(0,n.jsx)(a(),{poster:h,className:"",url:r,config:{facebook:{appId:"117029975354072"},file:{attributes:{"data-item-id":null===t||void 0===t?void 0:t.id,poster:h,"data-network":null===t||void 0===t?void 0:t.networkId,"data-item-id":null===t||void 0===t?void 0:t.id,"data-stories":null===t||void 0===t?void 0:t.stories,"data-load":"0"}}},autoPlay:u,muted:m,volume:u?1:0,playsinline:!0,onReady:e=>{k(!0)},playing:u,height:"100%",width:"100%",loop:v,controls:g,onError:x?e=>{(0,o.zi)(e)}:()=>{},style:{backgroundImage:f?"":`url(${h})`,backgroundSize:p?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})})}},65646:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s(52867),l=s(68298),a=s(44414);const o=e=>{let{rating:t,className:s,iconClass:o}=e;return t?(0,a.jsx)("div",{className:`f-center ${s}`,children:(0,i.OZ)(5).map(((e,s)=>(0,a.jsx)("span",{className:`${e>t?"text-gray-300":"text-warning"} ${o}`,children:(0,a.jsx)(l.gc,{type:"solid",icon:"star"})},s)))}):null}},28463:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Y});var i=s(9950),l=s(98341),a=s(45358),o=s(10274),n=s(52867),d=s(28981),c=s(96125),r=s(18854),h=s(69174),u=s(25984),m=s(59051),p=s.n(m),g=s(68298),v=s(3686),x=s(49782),f=s(38383),k=s(95942),b=s(72530),j=s(97937),w=s(74378),y=s.n(w),T=s(4073),C=s(5399),A=s(76629),P=s(88268),N=s(15208),S=s(44414);const I=(0,i.lazy)((()=>s.e(3907).then(s.bind(s,43907)))),D=(0,i.lazy)((()=>s.e(1163).then(s.bind(s,61163)))),F=(0,i.lazy)((()=>s.e(6494).then(s.bind(s,76494)))),U=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,65646)))),R=(0,i.lazy)((()=>s.e(129).then(s.bind(s,90129)))),L=(0,i.lazy)((()=>s.e(8884).then(s.bind(s,48884))));class M extends i.Component{constructor(){var e;super(...arguments),e=this,this.imageQueue=[],this.state={postID:null,id:null,data:null,itemIndex:null,modalData:null,firstRequest:!1,openpinToTopModal:!1,showModal:!1,currentIndex:null,isHighlight:!1,editTags:!1,videoId:null},this.clickToPin=(e,t,s)=>{this.props.clickToPostPin(e,t,s),this.setState({postID:t})},this.clickToGetUgc=e=>t=>{this.props.getUgcDetails(e),this.openUgcModal()},this.clickToDeletePost=(e,t)=>s=>this.props.clickToDeletePost(e,t,this.props.navigate),this.clickToBlockUser=(e,t)=>s=>this.props.clickToBlockUser(e,t),this.clickToPostStatus=(e,t,s,i)=>l=>{this.props.clickToPostStatus(e,t,s,i),this.setState({postID:t})},this.onClickToPostTags=e=>t=>{this.props.searchTagsFilter(e)},this.openUgcModal=e=>{this.props.ugcModal(!0)},this.clickToHighlight=function(t,s,i,l){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e.props.clickToPostHighlight(t,s,i,l,!1,(()=>e.moveTop(a,t,l))),e.setState({postID:s})},this.onRefreshPost=async e=>{await this.props.UPDATE_INSTA_POST_ACTION(e)},this.handleModalShow=(e,t)=>{this.setState({showModal:!0,modalData:e,currentIndex:t})},this.handleCallback=e=>{this.setState({showModal:e,modalData:e?this.state.modalData:null,currentIndex:null,editTags:!1})},this.moveTop=e=>{e&&this.handleModalShow(e,0);const t=document.querySelector(".dual_subheader_content");t&&t.scrollTo({top:0,behavior:"smooth"})},this.clickToGetLink=(e,t)=>{this.props.getUgcDetails(t),this.props.GET_UGC_REQUEST(t),this.props.onShow(e,t.ugcmodified)},this.handleImageError=e=>{const t=e.target.getAttribute("data-id");this.imageQueue.includes(t)||(this.imageQueue.push(t),this.state.firstRequest||this.processImageQueue())},this.processImageQueue=async()=>{this.setState({firstRequest:!0});const e=this.imageQueue[0],t=document.getElementById(`imgID${e}`);e&&(0,n.Cw)(e).then((e=>{let{data:s}=e;this.imageQueue.shift(),t&&(t.src=s.media),this.processImageQueue()})).catch((e=>{this.imageQueue.shift(),t&&(t.src=g.ru),this.processImageQueue()}))},this.slideAssets=e=>t=>{const{listData:s}=this.props;if(-1===e){let e=s.length-1;this.setState({currentIndex:e,modalData:s[e]})}else{let t=s.length==e?0:e;this.setState({currentIndex:t,modalData:s[t]})}}}componentDidUpdate(e){if(this.props.listData!==e.listData){let e=0;this.state.postID&&(e=this.props.listData.findIndex((e=>e.referenceId===this.state.postID)));const t=this.props.listData[e||this.state.currentIndex];this.setState({modalData:t,currentIndex:e||this.state.currentIndex},(()=>this.setState({postID:null})))}}render(){const{total:e,activeTab:t,filter:s,moderation:l,getUgcDetails:a,ugcData:o,ugcPopup:d,ugcRequestData:c,onShow:r,postCarosal:m,handleAllImageError:w,upgradePlan:M,currRef:_}=this.props,{openpinToTopModal:E,showModal:z,modalData:B,editTags:$,currentIndex:Q}=this.state;let G=null===s||void 0===s?void 0:s.tags.join();return(0,S.jsxs)("div",{className:"w-100 mb-4 mb-lg-0",children:[(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(L,{show:3==t,containerRef:_,upgradePlan:M})}),(0,S.jsxs)(y(),{className:"grid grid_mod row grid-view-content gx-3",elementType:"div",disableImagesLoaded:!1,updateOnEachImageLoad:!0,enableResizableChildren:!0,children:[(0,S.jsx)("div",{className:"assetsItem"}),null!==l&&void 0!==l&&l.listData&&(null===l||void 0===l?void 0:l.listData.length)>0?null===l||void 0===l?void 0:l.listData.map(((s,l)=>{var o,d,c,r,m,y,D,F,R,L,M,_,E,z,B,$,Q,O,H,W,q,V,Y,K,J,X,Z,ee;const te=(0,n.EC)(s.networkId);return s.status==t||0==t?(0,S.jsx)("div",{"total-items":e,className:"assetsItem mb-3 "+(1==s.highlight?"grid-2x":""),id:`content_id-${s.id}`,"data-post-id":s.id,"data-highlight":s.highlight,"data-pinned":s.pin,"data-created":s.createdAt,onLoad:()=>this.props.getNotRecomendedList(s),children:(0,S.jsx)(h.A,{children:(0,S.jsx)(v.A,{className:"border-0",children:(0,S.jsxs)(v.A.Body,{className:"p-0 bg-white",children:[(0,S.jsxs)("div",{className:"f-between px-3 py-2",style:{boxShadow:"0px 1px 0px rgba(0,0,0,.1)"},children:[(0,S.jsxs)("div",{className:"m_top_tools d-flex align-items-center list-inline mb-0",id:`post-actions-${s.id}`,children:[(0,S.jsx)(x.A.Check,{className:"form-check btn btn-icon btn-sm d-flex align-items-center border-0",checked:s.isChecked,value:s.isChecked,onChange:this.props.clickPostChecked(l)}),1==s.status&&1!=s.type?(0,S.jsx)(f.A,{placement:"top",overlay:(0,S.jsx)(k.A,{children:"Spotlight"}),children:(0,S.jsx)("span",{className:"spotlight_highlight d-flex align-items-center border-0 cursor-pointer h-18px w-18px me-2",onClick:()=>this.clickToHighlight(l,s.referenceId,s.id,s.highlight),"data-value":s.pin,children:s.highlight?(0,S.jsx)(g.gc,{type:"regular",icon:"circle-stop",iconClass:"spotlight-off text-danger"+(1==s.highlight?" fs-5":" fs-6")}):(0,S.jsx)(g.gc,{type:"solid",icon:"telescope",iconClass:"spotlight-off fs-6 text-secondary"})})}):null,(0,S.jsx)(f.A,{placement:"top",overlay:(0,S.jsx)(k.A,{children:"Pin to Top"}),children:(0,S.jsx)("span",{className:"d-flex align-items-center w-18px h-18px border-0 cursor-pointer me-2 "+(s.pin?"text-gradient":"text-muted"),onClick:()=>this.clickToPin(l,s.referenceId,s.pin),"data-value":s.pin,children:(0,S.jsx)(g.gc,{type:"solid",icon:"thumbtack",iconClass:"text-secondary"+(1==s.highlight?" fs-5":" fs-6")})})}),(3==s.networkId&&62==s.feedFilter||18==s.networkId&&(24==s.feedFilter||25==s.feedFilter||26==s.feedFilter))&&null==s.ugcstatus&&1!=s.type&&"true"!=localStorage.getItem("wallLimitExceed")?(0,S.jsx)(f.A,{placement:"top",overlay:(0,S.jsx)(k.A,{children:"UGC Rights"}),children:(0,S.jsx)("span",{className:"d-flex align-items-center w-18px h-18px border-0 cursor-pointer "+(s.highlight?"me-3":"me-2"),onClick:()=>{a(s),this.openUgcModal()},children:null==s.ugcRights||4==s.ugcstatus||2==s.ugcstatus?(0,S.jsx)(g.gc,{type:"solid",icon:"user-check",iconClass:"text-secondary"+(1==s.highlight?" fs-5":" fs-6")}):1==s.ugcstatus?(0,S.jsx)(g.gc,{type:"solid",icon:"user-clock",iconClass:"text-secondary"+(1==s.highlight?" fs-5":" fs-6")}):3==s.ugcstatus?(0,S.jsx)(g.gc,{type:"solid",icon:"user-xmark",iconClass:"text-secondary"+(1==s.highlight?" fs-5":" fs-6")}):""})}):null,(0,S.jsx)(f.A,{placement:"top",overlay:(0,S.jsx)(k.A,{children:"Tags"}),children:(0,S.jsx)("span",{className:"Tags d-flex align-items-center w-18px h-18px border-0 cursor-pointer "+(s.highlight?"me-3":"me-2"),onClick:()=>{this.handleModalShow(s,l),this.setState({editTags:!0})},"data-value":s.pin,children:(0,S.jsx)(g.gc,{type:"solid",icon:"tag",iconClass:"text-secondary"+(1==s.highlight?" fs-5":" fs-6")})})}),3==s.type||5==s.type?(0,S.jsx)("span",{className:"align-items-center w-18px h-18px border-0 cursor-pointer modVideoPlaybtn",onClick:()=>this.setState({videoId:null===s||void 0===s?void 0:s.id}),children:(0,S.jsx)(g.gc,{type:"solid",icon:"play",iconClass:"text-secondary"+(1==s.highlight?" fs-5":" fs-6")})}):null]}),(0,S.jsxs)(b.A,{children:[(0,S.jsx)(f.A,{placement:"top",overlay:(0,S.jsx)(k.A,{children:"More Actions"}),children:(0,S.jsx)(b.A.Toggle,{variant:"",className:"arrow_disabled after-none dropdown-toggle border-0 p-0",children:(0,S.jsx)(g.gc,{icon:"ellipsis",iconClass:"p-0 text-secondary"+(1==s.highlight?" fs-3":" fs-5")})})}),(0,S.jsxs)(b.A.Menu,{children:[1!=s.ugcstatus||2!=s.ugcstatus?(0,S.jsxs)(b.A.Item,{onClick:this.clickToDeletePost(s,l),children:[(0,S.jsx)("span",{className:"me-2",children:(0,S.jsx)(g.gc,{type:"solid",icon:"trash-can"})}),"Delete Post"]}):null,(0,S.jsxs)(b.A.Item,{onClick:this.clickToBlockUser(l,null===s||void 0===s||null===(o=s.author)||void 0===o?void 0:o.username),disabled:"true"==localStorage.getItem("wallLimitExceed"),children:[(0,S.jsx)("span",{className:"me-2",children:(0,S.jsx)(g.gc,{type:"solid",icon:"ban"})}),"Block User"]}),""!=s.link&&null!=s.link?(0,S.jsxs)(b.A.Item,{href:s.link,target:"_blank",children:[(0,S.jsx)("span",{className:"me-2",children:(0,S.jsx)(g.gc,{type:"solid",icon:"paper-plane"})}),"View Post"]}):null,s.pin?(0,S.jsxs)(b.A.Item,{onClick:()=>this.setState({openpinToTopModal:!0}),children:[(0,S.jsx)("span",{className:"me-2",children:(0,S.jsx)(g.gc,{type:"solid",icon:"right-left"})}),"Change Order"]}):""]})]})]}),(0,S.jsxs)("div",{className:"p-3",children:[s.highlight?(0,S.jsx)("div",{className:"live-tag mb-3",children:(0,S.jsxs)("p",{className:"d-flex align-items-start m-0",children:[(0,S.jsxs)("label",{className:"d-inline-flex align-items-center me-2 bg-danger text-white m-0 px-2",children:[(0,S.jsx)("small",{className:"bg-white h-8px w-8px me-2 d-inline-block rounded-circle"})," Live"]}),(0,S.jsxs)("span",{className:"f-center",children:["Click on ",(0,S.jsx)(g.gc,{type:"regular",icon:"circle-stop",iconClass:"spotlight-off text-danger fs-5 mx-1"}),"button to stop Spotlight"]})]})}):null,(0,S.jsx)("div",{className:"position-relative w-100",children:(0,S.jsxs)("div",{className:"rounded overflow-hidden",onClick:()=>"true"!=localStorage.getItem("wallLimitExceed")?this.handleModalShow(s,l):{},children:[s.imageList&&s.imageList.length?(0,S.jsx)("span",{className:"position-absolute top-0 end-0 p-2",style:{zIndex:2},children:(0,S.jsx)(g.gc,{type:"solid",icon:"clone",iconClass:"text-white filter-shadow"})}):null,1==s.type?(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(A.A,{mediaClass:"bg-light",content:null===s||void 0===s||null===(d=s.content)||void 0===d?void 0:d.text,rating:s.rating,socialNetworkId:s.networkId})}):2==s.type||4==s.type?(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(T.A,{mediaClass:"content_img_",size:!1,url:null===s||void 0===s||null===(c=s.media)||void 0===c||null===(r=c.image)||void 0===r?void 0:r.original,height:null===s||void 0===s||null===(m=s.media)||void 0===m?void 0:m.height,width:null===s||void 0===s||null===(y=s.media)||void 0===y?void 0:y.width,icon:s.networkId,isCover:!0,rating:s.rating,alt:"",handleAllImageError:w,item:s})}):3==s.type||5==s.type?(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsxs)(S.Fragment,{children:[null!==s&&void 0!==s&&null!==(D=s.media)&&void 0!==D&&null!==(F=D.video)&&void 0!==F&&F.full&&(null===s||void 0===s?void 0:s.id)==this.state.videoId?(0,S.jsx)(C.A,{item:s,mediaClass:"content_video",size:!1,url:null===s||void 0===s||null===(R=s.media)||void 0===R||null===(L=R.video)||void 0===L?void 0:L.full,poster:null===s||void 0===s||null===(M=s.media)||void 0===M||null===(_=M.image)||void 0===_?void 0:_.original,height:null===s||void 0===s||null===(E=s.media)||void 0===E?void 0:E.height,width:null===s||void 0===s||null===(z=s.media)||void 0===z?void 0:z.width,autoPlay:!0,muted:!1,isCover:!0,controls:!0,loop:!0}):(0,S.jsx)(T.A,{mediaClass:"content_img_",size:!1,url:null===s||void 0===s||null===(B=s.media)||void 0===B||null===($=B.image)||void 0===$?void 0:$.original,height:null===s||void 0===s||null===(Q=s.media)||void 0===Q||null===(O=Q.image)||void 0===O?void 0:O.height,width:null===s||void 0===s||null===(H=s.media)||void 0===H||null===(W=H.image)||void 0===W?void 0:W.width,icon:s.networkId,rating:s.rating,alt:"",handleAllImageError:w,isCover:!0,item:s}),(0,S.jsx)("div",{className:"position-absolute end-0 top-0 text-white mt-2 me-2",children:(0,S.jsx)(g.gc,{type:"solid",icon:"video",iconClass:"filter-shadow fs-6"})})]})}):null,1!=s.type&&null!==s&&void 0!==s&&null!==(q=s.recommendation)&&void 0!==q&&q.label?(0,S.jsxs)("div",{className:"sentiments-status f-center  position-absolute bottom-0",children:[(0,S.jsx)("img",{src:`${N.P_W}icons/svg-icons/${1==s.recommendation.type?"recommended":2==s.recommendation.type?"considerable":"not-recommended"}.svg`,className:"image img-fluid",width:"12",height:"12"}),(0,S.jsx)("div",{className:"img_quality_status "+(3==s.recommendation.type?"not-recommended":""),children:(0,S.jsx)("span",{children:s.recommendation.label})})]}):null]})}),[1,2,3,4].includes(s.ugcstatus)&&(0,S.jsx)("div",{className:"w-100",children:(()=>{const e={1:{bg:"warning",icon:"user-clock",text:"Pending",showTime:!0},2:{bg:"success",icon:"user-check",text:"Approved"},3:{bg:"danger",icon:"user-xmark",text:"Rejected"},4:{bg:"danger",icon:"user-xmark",text:"Expired"}}[s.ugcstatus];return e?(0,S.jsxs)("div",{onClick:()=>this.clickToGetLink(s.ugcstatus,s),className:`bg-${e.bg} f-center text-white fw-medium p-1 w-100 fs-9 cursor-pointer`,children:[(0,S.jsxs)("span",{className:"me-1",children:[" ",(0,S.jsx)(g.gc,{type:"solid",icon:e.icon})," "]}),e.text," ",e.showTime&&s.ugccreated&&(0,S.jsxs)("small",{children:[" (",p()(p()(s.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow(),") "]})]}):null})()}),1==s.ctastatus&&""!=s.buttonText?(0,S.jsx)("div",{className:`d-flex p-2 w-100 grid-cta-status-${s.id}`,children:(0,S.jsx)("a",{className:"btn font-weight-bold text-nowrap w-100",title:s.buttonText,target:"_blank",href:`${s.buttonUrl&&s.buttonUrl.includes("http")?s.buttonUrl:`//${s.buttonUrl}`}`,style:{backgroundColor:s.ctaButtonColor,color:s.ctaTextColor},children:(0,S.jsx)("span",{children:s.buttonText})})}):null]}),s.rating>0&&1!=s.type?(0,S.jsx)("div",{className:"d-flex justify-content-start p-3 pb-0",children:(0,S.jsx)(U,{className:"fs-5",iconClass:"me-1",rating:s.rating})}):null,(0,S.jsxs)("div",{className:"px-3 pb-3",children:[(0,S.jsxs)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:[" ",(0,S.jsx)(I,{item:s,onClickToPostTags:this.onClickToPostTags,selection:G},s.tags)," "]}),(0,S.jsxs)("div",{className:"f-between",children:[(0,S.jsx)("div",{className:"d-flex align-items-center pe-2",style:{maxWidth:"calc(100% - 25px)"},children:(0,S.jsxs)("div",{className:"d-flex align-items-center overflow-hidden",style:{maxWidth:"100%"},children:[(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(P.A,{imageSize:36,symbolClass:"symbol-36 f-center text-white fs-5",className:"symbol-36 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:(0,u.Ay)((null===s||void 0===s||null===(V=s.author)||void 0===V?void 0:V.username)||""),profileUrl:null===s||void 0===s||null===(Y=s.author)||void 0===Y?void 0:Y.picture,networkId:null===s||void 0===s?void 0:s.networkId})}),(0,S.jsxs)("div",{className:"d-flex flex-column flex-grow-1 overflow-hidden",children:[null!==s&&void 0!==s&&s.link?(0,S.jsx)("a",{href:null===s||void 0===s?void 0:s.link,target:"_blank",className:"mb-0 text-ellipsis fw-bold text-body",children:null===s||void 0===s||null===(K=s.author)||void 0===K?void 0:K.name}):(0,S.jsx)("span",{className:"mb-0 text-ellipsis fw-bold text-body",children:null===s||void 0===s||null===(J=s.author)||void 0===J?void 0:J.name}),(0,S.jsxs)("div",{className:"d-flex align-items-center",children:[(0,S.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:["@",(0,u.Ay)((null===s||void 0===s||null===(X=s.author)||void 0===X?void 0:X.username)||"")]}),(0,S.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1 d-flex flex-shrink-0",style:{backgroundColor:"var(--bs-gray-600)"}}),(0,S.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:[" ",p()(new Date(1e3*s.createdAt)).fromNow()]})]})]})]})}),(0,S.jsxs)("span",{className:"f-center",children:[" ",(0,S.jsx)(g.gc,{type:"rss"==te?"solid":"brands",icon:te,iconClass:"mx-2 fs-4 fab"})," "]})]})]}),(0,S.jsxs)("div",{className:"d-flex align-items-center p-3 border-top",children:[3!=s.status?(0,S.jsx)("div",{className:"w-50 me-1",children:(0,S.jsx)(j.A,{variant:"public",size:"sm",onClick:this.clickToPostStatus(l,null!==(Z=s.imageList)&&void 0!==Z&&Z.length?s.ptPost:s.postId,1),className:(1==s.status?"disabled":"")+" w-100",disabled:"true"==localStorage.getItem("wallLimitExceed"),children:"Public"})}):null,3!=s.status?(0,S.jsx)("div",{className:"w-50 ms-1",children:(0,S.jsx)(j.A,{variant:"private",size:"sm",onClick:this.clickToPostStatus(l,null!==(ee=s.imageList)&&void 0!==ee&&ee.length?s.ptPost:s.postId,2),className:(2==s.status?"disabled":"")+" w-100",disabled:"true"==localStorage.getItem("wallLimitExceed"),children:"Private"})}):null]})]})})})},`post${l}_${s.id}`):null})):(0,S.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,S.jsxs)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:[" ",(0,S.jsx)(R,{title:"No Posts!",desc:"",icon:"media",isFullScreen:!1})," "]})})]}),B?(0,S.jsxs)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:[" ",(0,S.jsx)(F,{clickToPin:this.clickToPin,clickToGetUgc:this.clickToGetUgc,clickToDeletePost:this.clickToDeletePost,clickToBlockUser:this.clickToBlockUser,clickToPostStatus:this.clickToPostStatus,modalCallback:this.handleCallback,modalToggle:z,modalData:B,exportDonwloadMedia:this.exportDonwloadMedia,slideAssets:this.slideAssets,editTags:$,closeEditTag:()=>this.setState({editTags:!1}),currentIndex:Q,filter:s,handleAllImageError:w,onRefreshPost:this.onRefreshPost,highLightPost:this.clickToHighlight})," "]}):null,(0,S.jsxs)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:[" ",(0,S.jsx)(D,{openpinToTopModal:E,closeModalPop:()=>this.setState({openpinToTopModal:!1})})," "]})]})}}const _=(0,l.Ng)((e=>{var t,s,i,l;return{isEditing:null===(t=e.moderation)||void 0===t?void 0:t.isEditing,ugcData:null===(s=e.moderation)||void 0===s?void 0:s.ugcData,ugcPopup:null===(i=e.moderation)||void 0===i?void 0:i.ugcPopup,ugcRequestData:null===(l=e.moderation)||void 0===l?void 0:l.ugcRequestData,moderation:e.moderation,limits:e.limitExceed}}),(e=>({clickToPostStatus:(t,s,i,l)=>e((0,o.QK)(t,s,i,l)),clickToPostPin:(t,s,i)=>e((0,o.b4)(t,s,i)),clickToDeletePost:(t,s,i)=>e((0,o.xL)(t,s,i)),clickToBlockUser:(t,s)=>e((0,o.C8)(t,s)),getUgcDetails:t=>e((0,o.Qb)(t)),ugcModal:t=>e((0,o.$k)(t)),UPDATE_INSTA_POST_ACTION:t=>e((0,o.KH)(t)),GET_UGC_REQUEST:t=>e((0,o.rA)(t)),clickToPostHighlight:(t,s,i,l,a,n)=>e((0,o._m)(t,s,i,l,a,n))})))(M);var E=s(14313);const z=(0,i.lazy)((()=>Promise.all([s.e(2796),s.e(8837)]).then(s.bind(s,98837)))),B=(0,i.lazy)((()=>s.e(2807).then(s.bind(s,12807)))),$=(0,i.lazy)((()=>s.e(6029).then(s.bind(s,36029)))),Q=(0,i.lazy)((()=>Promise.all([s.e(3556),s.e(2275),s.e(8604)]).then(s.bind(s,48117)))),G=(0,i.lazy)((()=>Promise.all([s.e(3556),s.e(9452),s.e(2250)]).then(s.bind(s,52250)))),O=(0,i.lazy)((()=>s.e(3325).then(s.bind(s,13325)))),H=(0,i.lazy)((()=>s.e(129).then(s.bind(s,90129)))),W=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,14562)))),q=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,10889))));class V extends i.Component{constructor(){var e;super(...arguments),e=this,this.allImageQueue=[],this.ref=i.createRef(null),this.state={total:0,isCheckAll:!1,isCheckedPostCount:0,perPageCount:10,activePage:1,filters:[],allFirstImage:!1,statusPopup:0,showFilterTab:!1,aiUpgrade:null,filterTab:0},this.unRecommendedList=[],this.RecomendedList=[],this.callbackFilter=()=>{var e;this.props.removeAllFilterBody(!0);const t=new URL(window.location.href),s=new URLSearchParams(t.search);let i="";const l=["language","network","media","tags","sentiments","recommendation"].find((e=>t.href.includes(e)));i=[{filter:l,data:s.get(l)}],i&&this.props.filterDataAnalytics(i),null!==(e=window.location.pathname)&&void 0!==e&&e.includes("notificationId")&&(setTimeout((()=>{const e=localStorage.getItem("rule-notification");e&&(localStorage.removeItem("rule-notification"),this.props.updateRuleFilter(e))}),2e3),setTimeout((()=>this.props.getModeration()),1e3))},this.clickToCheckAll=e=>{const{isCheckAll:t}=this.state;this.setState({isCheckAll:!t},(()=>{this.onActionUpdateOpcity(),this.props.updateCheckAll(this.state.isCheckAll)}))},this.clickToCheckStatusAll=e=>t=>{this.onActionUpdateOpcity(),this.props.updateCheckStatusAll(e)},this.clickToUncheckAll=e=>{this.setState({isCheckAll:!1},(()=>{this.onActionUpdateOpcity(),this.props.removeCheckAll(!1)}))},this.clickPostChecked=e=>t=>this.props.selectPostUpdate(e,this.onActionUpdateOpcity()),this.onActionUpdateOpcity=()=>{const{isCheckAll:e,isCheckedPostCount:t}=this.state;(e||t>0)&&(document.getElementsByClassName("modSelectNo")&&document.getElementsByClassName("modSelectNo")[0]&&(0,n.UD)(document.getElementsByClassName("modSelectNo")[0]),document.getElementsByClassName("filter-bar")&&document.getElementsByClassName("filter-bar")[0]&&(0,n.UD)(document.getElementsByClassName("filter-bar")[0]))},this.clickToTab=e=>t=>this.props.activeTabActionFilter(e),this.onDateRangeFilter=(e,t)=>this.props.dateRangeFilter(e,t),this.onClickToFilterUpdateStatus=e=>t=>this.props.clickToPostStatusALL(e),this.onClickToFilterDeleteAll=e=>this.props.clickToPostDeleteALL(this.props.navigate),this.onClickNextPage=e=>this.props.onNextNavigateClick(),this.onClickPrevPage=e=>this.props.onPrevNavigateClick(),this.onChangePage=e=>t=>{this.props.onUpdatePage(e)},this.onClickReset=e=>{let t=this.state.filters.filter((t=>t.key===e.key));t=t.filter((t=>{if(["postType","socialFeed","other"].includes(t.key))return t.value.filter((t=>!e.value.includes(t)))})),this.setState({filters:t},(()=>this.props.clickToRefresh()))},this.onClickAllReset=e=>this.setState({filters:[]},(()=>this.props.getModeration())),this.upgradeTrueSensePlan=()=>this.setState({aiUpgrade:null},(()=>setTimeout((()=>this.props.upgradePlan()),100))),this.showAiUpgradePop=e=>this.setState({aiUpgrade:e,autoMod:!1}),this.handleAllImageError=e=>{try{const t=e.target.getAttribute("data-id");this.allImageQueue.some((e=>e.src===t))||this.allImageQueue.push({src:t,e:e}),this.state.allFirstImage||this.processAllImageQueue()}catch(t){console.log("error",t)}},this.processAllImageQueue=async()=>{this.allImageQueue.length&&!this.state.allFirstImage&&(this.setState({allFirstImage:!0}),this.processNextImage())},this.processNextImage=()=>{try{const{src:e,e:t}=this.allImageQueue[0];e&&(0,n.bs)(t,this.nextProcessAllImageQueue)}catch(e){console.log("error",e)}},this.nextProcessAllImageQueue=()=>{try{this.allImageQueue.shift(),this.allImageQueue.length?this.processNextImage():this.setState({allFirstImage:!1})}catch(e){console.log("error",e)}},this.updatepostCarosal=e=>{const{allWalls:t,galleryUpdate:s,postCarosal:i}=this.props;i(e);const l=(null===t||void 0===t?void 0:t.length)&&t.find((e=>e.id==localStorage.getItem("wallId")));l&&s({name:l.name,status:e,carouselPost:e,autoUpdate:l.autoUpdate||0,deleted:0,id:l.id,action:2})},this.openugcModel=()=>this.props.ugcModal(!0),this.onShow=e=>this.setState({statusPopup:e}),this.hideFilterBody=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.setState((s=>({...s,showFilterTab:!t&&!e.state.showFilterTab})))},this.isSentimentValid=e=>(null==e||""==e||"negative"==e||"postive"==e||"strongpos"==e||"neutral"==e||"strongneg"==e||0==e)&&"0.00"!=e,this.getNotRecomendedList=e=>{var t,s,i,l,a,o,n,d;const{moderation:c,userDetails:r,loader:h}=this.props,u=null===r||void 0===r||null===(t=r.userData)||void 0===t||null===(s=t.user)||void 0===s?void 0:s.emailId;if(N.QzM&&c&&"133693"!=(null===r||void 0===r||null===(i=r.userData)||void 0===i||null===(l=i.UserRule)||void 0===l?void 0:l.id)&&null!==r&&void 0!==r&&null!==(a=r.userData)&&void 0!==a&&null!==(o=a.user)&&void 0!==o&&o.trueSense&&(!["@taggbox","@taggshop","@tagembed"].some((e=>u.includes(e)))||1==(null===r||void 0===r||null===(n=r.userData)||void 0===n||null===(d=n.UserRule)||void 0===d?void 0:d.wasabi_upload))){if([1,2,3,4,5].includes(parseInt(e.type))&&(this.isSentimentValid(e.sentiment)||!e.recommendation)&&3!=e.status)if(h.filterLoader)this.unRecommendedList=[];else{this.unRecommendedList.find((t=>t.id==e.id))||(this.unRecommendedList.push({id:e.id,wallId:localStorage.getItem("wallId")}),1==this.unRecommendedList.length&&this.getRecommemdation())}}else this.unRecommendedList=[]},this.getRecommemdation=()=>{try{if(this.unRecommendedList.length>0){const{userData:e}=this.props.userDetails;(new E.A).post(`${N.H$l}/accounts/getsentimentAI`,{postId:this.unRecommendedList[0].id,table_name:e.UserPlan.db_table}).then((e=>{const{responseData:t}=e.data;if(localStorage.getItem("wallId")!=this.unRecommendedList[0].wallId)throw new Error("error");if(t&&Object.keys(t).length>0){const e=this.props.moderation.listData.map((e=>e.id==this.unRecommendedList[0].id?{...e,...t}:e));this.props.loader.filterLoader?this.unRecommendedList=[]:this.props.updateList(e)}this.unRecommendedList.shift(),this.getRecommemdation()})).catch((e=>{this.unRecommendedList.shift(),this.getRecommemdation()}))}}catch(e){console.log("error---recommendation"),this.unRecommendedList=[]}}}componentDidUpdate(e,t){var s,i;e.moderation.changeModeration_wall!==this.props.moderation.changeModeration_wall&&this.props.moderation.changeModeration_wall&&this.setState({activeTab:null===(s=this.props.moderation)||void 0===s||null===(i=s.filter)||void 0===i?void 0:i.status},this.clickToUncheckAll)}componentWillMount(){const{params:e,userDetails:t,getTags:s}=this.props,i=window.location.href.replace(null===e||void 0===e?void 0:e.id,localStorage.getItem("wallId"));window.history.pushState(null,"",i),window.feedId=e.feedId,null!==t&&void 0!==t&&t.userTags||s(localStorage.getItem("ownerId")),this.callbackFilter()}componentDidMount(){document.cookie="callBackUrl=React",localStorage.removeItem("createFeedObj"),this.props.getModeration()}componentWillUnmount(){this.allImageQueue=[],this.props.removeAllFilterBody(!0)}componentWillUnmount(){this.props.removeAllFilterBody(),this.unRecommendedList=[]}render(){var e,t,s;const{isCheckAll:l,perPageCount:o,activePage:n,filters:d,aiUpgrade:c,showFilterTab:r,filterTab:u}=this.state,{moderation:m,searchTagsFilter:p,limitUpdate:g,loader:v,postCarosal:x,showAutoPilotD:f,userDetails:k,clickToRefresh:b,ugcModal:j,clearUgcData:w,removeAllFilterBody:y,searchPostFilter:T,allWalls:C,wallsLoader:A,feeds:P,ugcData:N,ugcPopup:I,UGC_DATA_RM:D,navigate:F,getTags:U,toggleAutoPilot:R,onUpdateTags:L,upgradePlan:M}=this.props,E=null===m||void 0===m||null===(e=m.filter)||void 0===e?void 0:e.status;return(0,S.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content moderation__",children:[(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,i.createElement)(z,{postCarosal:this.updatepostCarosal,clickToRefresh:b,...this.props,...this.state,clickToCheckAll:this.clickToCheckStatusAll,clickToUncheckAll:this.clickToUncheckAll,isCheckedPostCount:null===m||void 0===m?void 0:m.isCheckedPostCount,onClickToViewFilter:this.onClickToViewFilter,total:null===m||void 0===m?void 0:m.total,clickToTab:this.clickToTab,onDateRangeFilter:this.onDateRangeFilter,onClickToFilterUpdateStatus:this.onClickToFilterUpdateStatus,onClickToFilterDeleteAll:this.onClickToFilterDeleteAll,onNextNavigateClick:this.onClickNextPage,onPrevNavigateClick:this.onClickPrevPage,onChangePage:this.onChangePage,onAppliedFilter:this.onAppliedFilter,activeTab:E,key:E,changeFilterTab:e=>this.setState({filterTab:e})})}),(0,S.jsxs)(a.A,{fluid:!0,className:"position-relative py-3 dual_subheader_content",children:[(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(B,{...this.props,filterBody:m.filterBody,showFilterTab:r,filterTab:u,hideFilterBody:this.hideFilterBody,showAiUpgradePop:this.showAiUpgradePop,changeFilterTab:e=>this.setState({filterTab:e})})}),(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)($,{...this.props,filterBody:m.filterBody,filters:m.filter})}),(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(G,{...this.props,statusPopup:this.state.statusPopup,onHide:()=>{this.setState({statusPopup:0}),D()},openugcModel:this.openugcModel})}),0!=(null===m||void 0===m?void 0:m.total)||null!==m&&void 0!==m&&m.filterLoader||3==(null===m||void 0===m||null===(t=m.filter)||void 0===t?void 0:t.status)&&(null===m||void 0===m||null===(s=m.listData)||void 0===s?void 0:s.length)>0?(0,S.jsx)("div",{className:"moderation_card tab-content",ref:this.ref,children:v.filterLoader?(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(O,{...this.props})}):(0,S.jsx)(h.A,{children:(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(_,{clickPostChecked:this.clickPostChecked,getNotRecomendedList:this.getNotRecomendedList,currRef:this.ref,...m,removeAllFilterBody:y,activeTab:E,searchTagsFilter:p,onAppliedFilter:this.onAppliedFilter,handleAllImageError:this.handleAllImageError,filters:d,onClickAllReset:this.onClickAllReset,onClickReset:this.onClickReset,onShow:this.onShow,navigate:F,upgradePlan:M})})})}):(0,S.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 228px)"},children:(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(H,{title:P&&P.length?"No Posts!":"Whoops! You have not created a feed! \u231b",desc:"",icon:"media",isFullScreen:!1})})}),I?(0,S.jsx)(h.A,{children:(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(Q,{ugcData:N,hideUgc:()=>{j(!1),w()}})})}):""]}),f?(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(W,{userDetails:k,getTags:U,closeModeration:()=>R(!1),showUpgradePop:this.showAiUpgradePop,moderation:m})}):null,c?(0,S.jsx)(i.Suspense,{fallback:(0,S.jsx)(S.Fragment,{}),children:(0,S.jsx)(q,{show:c,handleClose:()=>this.setState({aiUpgrade:null}),exploreSocialWall:this.upgradeTrueSensePlan,type:c})}):null]})}}const Y=(0,l.Ng)((e=>{var t,s,i,l,a,o,n,d,c,r,h,u,m,p;return{moderation:e.moderation,loader:e.loader,ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,allFont:e.allFont,showAddFeed:null===(s=e.modalReducer)||void 0===s?void 0:s.showAddFeed,showManageFeed:null===(i=e.modalReducer)||void 0===i?void 0:i.showManageFeed,showCta:null===(l=e.modalReducer)||void 0===l?void 0:l.showCta,wallsLoader:null===(a=e.dashboardData)||void 0===a?void 0:a.wallsLoader,addGalleryNow:null===(o=e.dashboardData)||void 0===o?void 0:o.addGalleryNow,ctaData:null===(n=e.ctaData)||void 0===n?void 0:n.data,ugcData:null===(d=e.moderation)||void 0===d?void 0:d.ugcData,ugcPopup:null===(c=e.moderation)||void 0===c?void 0:c.ugcPopup,ugcRequestData:null===(r=e.moderation)||void 0===r?void 0:r.ugcRequestData,feeds:null===(h=e.manageFeeds)||void 0===h?void 0:h.feeds,allWalls:null===(u=e.dashboardData)||void 0===u||null===(m=u.dashboarddata)||void 0===m?void 0:m.allWalls,userDetails:e.authenticated,showAutoPilotD:null===(p=e.displayModalSection)||void 0===p?void 0:p.showAutoPilotD}}),(e=>({getModeration:t=>e((0,o.zI)(t)),activeTabActionFilter:t=>e((0,o.ww)(t)),updateCheckAll:t=>e((0,o.$)(t)),selectPostUpdate:(t,s)=>e((0,o.ax)(t,s)),dateRangeFilter:(t,s)=>e((0,o.AX)(t,s)),clickToPostStatusALL:t=>e((0,o.lg)(t)),clickToPostDeleteALL:t=>e((0,o.wi)(t)),searchTagsFilter:t=>e((0,o.cO)(t)),searchPostFilter:t=>e((0,o.HD)(t)),limitUpdate:t=>e((0,o.PH)(t)),onNextNavigateClick:()=>e((0,o.yH)()),onPrevNavigateClick:()=>e((0,o.Ec)()),onUpdatePage:t=>e((0,o.eJ)(t)),clickToRefresh:()=>e((0,o.LT)()),postCarosal:t=>e((0,o.gL)(t)),removeAllFilterBody:t=>e((0,o.ud)(t)),removeCheckAll:t=>e((0,o.KN)(t)),updateCheckStatusAll:t=>e((0,o.$3)(t)),ugcModal:t=>e((0,o.$k)(t)),clearUgcData:()=>e((0,o.nh)()),UGC_DATA_RM:()=>e((0,o.Ao)()),getTags:t=>e((0,d.to)(t)),onUpdateTags:(t,s,i)=>e((0,o.K)(t,s,i)),upgradePlan:()=>e((0,c.wQ)(!0)),toggleAutoPilot:t=>e((0,c.Di)(t)),filterDataAnalytics:t=>e((0,o.jL)(t)),updateRuleFilter:t=>e((0,o.cN)(t))})))(i.memo((0,r.A)(V)))}}]);