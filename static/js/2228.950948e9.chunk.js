"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[2228,4073,5399,5646,6629],{135:(e,t,s)=>{s.d(t,{A:()=>j});var a=s(89379),i=s(9950),o=s(75794),n=s(26321),l=s(22385),d=s(21784),r=s(99637),c=s(67972),h=s(6104),p=(s(92043),s(58660),s(45485)),m=s(44414);const g=p.bG,u=p.I2,x=p.jZ,v=p.mD,f=p.sd;class w extends i.Component{constructor(e){super(e),this.onClickToOpen=()=>{this.setState({modalOpen:!0});const e=document.querySelector(".uppy-Dashboard-close");e&&e.addEventListener("click",(()=>{this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1})}))},this.onClickToClose=()=>{this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1,renderKey:Math.floor(6*Math.random())+1})};const{uploadPath:t,allowedFile:s,width:i,maxFileSize:n,beforeUpload:d,proceed:r}=e,c=null!==s&&void 0!==s?s:["image/*"],h=null!==i&&void 0!==i?i:500,p=null!==n&&void 0!==n?n:5e6,m=null!==r&&void 0!==r&&r,f=null!==d&&void 0!==d?d:()=>{},w=c.length>1?{}:{resize:{robot:"/image/resize",width:h,resize_strategy:"fit",background:"none"}};this.state={filename:null,modalOpen:!1,render:0},this.uppyPostEdit=new o.A({debug:!0,autoProceed:m,allowMultipleUploadBatches:!1,restrictions:{maxFileSize:p,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:c},onBeforeUpload:f}).use(l.Ay,{target:"#a",params:{auth:{key:g},steps:(0,a.A)((0,a.A)({},w),{},{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:u,key:x,secret:v,path:"".concat(t)+"${file.id}.${file.ext}"}})},waitForEncoding:!0})}componentDidMount(){const{uploadAgents:e,uploadPath:t,onImgUpload:s,uploadMethods:i}=this.props;e&&e.length>0&&e.forEach((e=>{let t=r.A;"GoogleDrive"==e?t=d.A:"Url"==e?t=c.A:"Webcam"==e&&(t=h.A),this.uppyPostEdit.use(t,{target:o.A.Dashboard,companionUrl:f})})),(null===i||void 0===i?void 0:i.length)>0&&i.forEach((e=>{let{key:t,callback:s}=e;this.uppyPostEdit.on(t,(e=>s(e,this.uppyPostEdit)))})),this.uppyPostEdit.on("transloadit:result",((e,i)=>{const o="".concat(p.GG).concat(t).concat(i.id,".").concat(i.ext);this.setState({filename:o},(()=>{setTimeout((()=>{s(o,(0,a.A)((0,a.A)({},i.meta),{},{fileName:"".concat(i.id,".").concat(i.ext),isVideo:Object(null===i||void 0===i?void 0:i.meta).hasOwnProperty("duration")}),o),this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1})}),300)}))}))}componentWillUnmount(){this.uppyPostEdit.cancelAll(),this.uppyPostEdit.close({reason:"unmount"}),this.setState({modalOpen:!1,renderKey:Math.floor(6*Math.random())+1})}render(){const{modalOpen:e,renderKey:t}=this.state,{isModal:s=!0,children:a,uploadAgents:o,showFile:l=!1,disInfo:d=!1,height:r=270}=this.props;return(0,m.jsx)(i.Fragment,{children:s?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{onClick:this.onClickToOpen,children:a}),(0,m.jsx)(n.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,open:e,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyPostEdit,onRequestCloseModal:this.onClickToClose,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:o})]}):(0,m.jsx)("div",{children:(0,m.jsx)(n.xh,{proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0,showProgressDetails:!0,disableThumbnailGenerator:!1,showRemoveButtonAfterComplete:!1,height:r,uppy:this.uppyPostEdit,plugins:o,showSelectedFiles:l,disableInformer:d},t)})},t)}}const j=w},4073:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(68298),i=s(51960),o=s(52867),n=s(9950),l=s(44414);const d=e=>{let{mediaClass:t,size:s,height:d,width:r,url:c,alt:h,isProduct:p,handleAllImageError:m,item:g,isCover:u}=e;const[x,v]=(0,n.useState)(s||100);(0,n.useEffect)((()=>{(async()=>{if(s)v(s);else if(d&&""!=d&&r&&""!=r)v(100*d/r);else try{const{width:e,height:t}=await(0,o.pG)(c);v(100*t/e)}catch(e){v(100)}})()}),[s]);return(0,l.jsx)("div",{className:"".concat(t," overflow-hidden position-relative"),style:{paddingBottom:"".concat(x,"%")},children:(0,l.jsx)(i.A,{className:"position-absolute  h-100 w-100 object-center-".concat(u?"cover":"contain"),loading:"lazy",src:c,height:d,width:r,"data-load":"0","data-id":null===g||void 0===g?void 0:g.id,"data-network":null===g||void 0===g?void 0:g.networkId,alt:""!=h?h:(0,o.wG)(c),onError:e=>{m&&m(e),(e=>{e.target.src=p?a.RO:a.ru})(e)},fluid:!0})})}},76629:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(70804),i=s(65646),o=s(44414);const n=e=>{let{content:t,mediaClass:s,rating:n,fontSize:l,lineCount:d,size:r}=e;return(0,o.jsx)("div",{className:"position-relative overflow-hidden ".concat(s),style:{paddingBottom:"".concat(r||"100","%")},children:(0,o.jsxs)("div",{className:"w-100 f-center flex-column position-absolute start-0 top-0 h-100 p-3",children:[n?(0,o.jsx)("div",{className:"f-center ps-1 mb-4",children:(0,o.jsx)(i.default,{className:"mx-1 fs-3",iconClass:"mx-1",rating:n})}):null,(0,o.jsx)("div",{className:"overflow-hidden",children:(0,o.jsx)("p",{className:"text-center line-clamp-".concat(d||4," line-clamp mb-0 ").concat(l?"":"fs-7"),style:{fontSize:l},children:(0,a.Ay)(t)})})]})})}},5399:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(9950),i=s(38092),o=s.n(i),n=s(52867),l=s(44414);const d=e=>{let{item:t,mediaClass:s,size:i,height:d,width:r,url:c,poster:h,autoPlay:p,muted:m,isCover:g,controls:u,loop:x,isupdate:v}=e;const[f,w]=(0,a.useState)(!1),[j,C]=(0,a.useState)(i||100);(0,a.useEffect)((()=>{(async()=>{if(i)C(i);else if(d&&""!=d&&r&&""!=r)C(100*d/r);else try{const{width:e,height:t}=await(0,n.pG)(h);C(100*t/e)}catch(e){C(100)}})()}),[i]);return(0,l.jsx)("div",{className:"".concat(s," overflow-hidden position-relative"),style:{paddingBottom:"".concat(j,"%")},children:(0,l.jsx)("div",{className:"position-absolute object-center-cover h-100 w-100",children:(0,l.jsx)(o(),{poster:h,className:"",url:c,config:{facebook:{appId:"117029975354072"},file:{attributes:{"data-item-id":null===t||void 0===t?void 0:t.id,poster:h,"data-network":null===t||void 0===t?void 0:t.networkId,"data-item-id":null===t||void 0===t?void 0:t.id,"data-stories":null===t||void 0===t?void 0:t.stories,"data-load":"0"}}},autoPlay:p,muted:!0,volume:p?1:0,playsinline:!0,onReady:e=>{w(!0)},playing:p,height:"100%",width:"100%",loop:x,controls:u,onError:v?e=>{(0,n.zi)(e)}:()=>{},style:{backgroundImage:f?"":"url(".concat(h,")"),backgroundSize:g?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})})}},65646:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(52867),i=s(68298),o=s(44414);const n=e=>{let{rating:t,className:s,iconClass:n}=e;return t?(0,o.jsx)("div",{className:"f-center ".concat(s),children:(0,a.OZ)(5).map(((e,s)=>(0,o.jsx)("span",{className:"".concat(e>t?"text-gray-300":"text-warning"," ").concat(n),children:(0,o.jsx)(i.gc,{type:"solid",icon:"star"})},s)))}):null}},52228:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(9950),i=s(41294),o=s(97937),n=s(98341),l=s(89379),d=s(4342),r=s(49782),c=s(51960),h=s(73501),p=s(95942),m=s(52867),g=s(31722),u=s(68298),x=s(10274),v=s(135),f=s(44414);class w extends a.Component{constructor(e){super(e),this.getTagsArray=()=>{var e;let t=((null===(e=this.props)||void 0===e?void 0:e.tags)||"").split(",").filter((e=>e.trim().length>0));this.setState({tagString:t})},this.onLoad=()=>{const{searchPost:e}=this.state;(null===e||void 0===e?void 0:e.length)>0?(this.setState({isLoading:!0}),(0,x.nX)(e).then((e=>{const{responseData:t,responseCode:s}=e.data;if(200===s){const e=null===t||void 0===t?void 0:t.totalTag.map((e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)})));this.setState({selectedOption:e,isLoading:!1})}else this.setState({selectedOption:[],isLoading:!1})})).catch((()=>{this.setState({isLoading:!1})}))):this.setState({selectedOption:[],isLoading:!1})},this.onSearchText=e=>{this.setState({searchPost:e},(()=>this.onLoad()))},this.handleSelectChange=e=>{var t;const{tagString:s}=this.state;null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.length&&(s.includes(e.value)?(0,m.r$)("Tag already exists"):this.setState({tagString:[...s,e.value]},(()=>this.props.onChangeTag(this.state.tagString.join(",")))))},this.setProfile=(e,t,s)=>{this.setState({uppyProfileOpen:!1},(()=>this.props.onChangeAuthorImg(e)))},this.onClickToRemoveTag=e=>t=>{let{tagString:s}=this.state;s.splice(e,1),this.setState({tagString:s},(()=>this.props.onChangeTag(s.join(","))))},this.handleSave=()=>{const{author:e,handle:t,onSavePost:s,content:a}=this.props;e&&t&&a&&s()},this.isValidNewOption=e=>e.length>=3,this.state={tagString:[],searchPost:"",selectedOption:[],isLoading:!1,uppyProfileOpen:!1,profile:"",imageError:!1}}componentDidMount(){this.getTagsArray()}componentDidUpdate(e){e.tags!==this.props.tags&&this.getTagsArray()}render(){const{onChangeAuthor:e,onChangeHandle:t,onChangeContent:s,onClickRemoveAuthorImg:a,author:i,handle:n,authorImage:l,onSavePost:x,onSaveTag:w,content:j,handleClose:C,loading:b,isTaggModal:y}=this.props,{tagString:N,isLoading:A,selectedOption:S,imageError:k}=this.state;return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"p-4 m_sidebar_scroll_",children:[!y&&(0,f.jsxs)(r.A.Group,{className:"mb-3",children:[(0,f.jsx)(r.A.Label,{className:"mb-2",htmlFor:"author_p_",children:"Author Profile"}),(0,f.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,f.jsx)("div",{className:"me-3 me-xxl-4",children:(0,f.jsx)("div",{className:"symbol h-60px w-60px position-relative rounded-circle bg-light overflow-hidden",children:l&&""!=l?(0,f.jsxs)(f.Fragment,{children:[k?null:(0,f.jsx)(c.A,{src:l,alt:i,height:70,width:70,className:"iobject-center-cover",load:"lazy",fluid:!0,onError:()=>this.setState({imageError:!0})}),(0,f.jsxs)("span",{className:"symbol-label bg-black text-white text-uppercase rounded-circle w-100 h-100 fs-2",style:{display:k?"flex":"none"},children:[" ",(0,m.t$)(i)," "]})]}):(0,f.jsxs)("span",{className:"symbol-label bg-black text-white text-uppercase rounded-circle w-100 h-100 fs-2",children:[" ",(0,m.t$)(i)," "]})})}),(0,f.jsxs)("div",{className:"d-flex align-items-start flex-column",children:[(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)(h.A,{placement:"top",overlay:(0,f.jsx)(p.A,{children:"Edit"}),children:(0,f.jsx)(v.A,{uploadPath:"media/tmpimages/",uploadAgents:["GoogleDrive","Url"],allowedFile:["image/*"],onImgUpload:this.setProfile,children:(0,f.jsxs)(o.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",children:[" ",(0,f.jsx)(u.gc,{type:"solid",icon:"pen"})," "]})})}),(0,f.jsx)(h.A,{placement:"top",overlay:(0,f.jsx)(p.A,{children:"Remove"}),children:(0,f.jsx)(o.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",onClick:a,children:(0,f.jsx)(u.gc,{type:"solid",icon:"trash-can"})})})]}),(0,f.jsx)("div",{className:"form-text mt-2",children:"Allowed file types: png, jpg, jpeg."})]})]})]}),!y&&(0,f.jsxs)(r.A.Group,{className:"mb-3",children:[(0,f.jsxs)(r.A.Label,{className:"mb-2",htmlFor:"author_n_",children:["Author Name ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(r.A.Control,{id:"author_n_",name:"author_n_",className:i.length?"":"is-invalid",placeholder:"Enter Author Name",value:i,onChange:e}),i.length?null:(0,f.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),!y&&(0,f.jsxs)(r.A.Group,{className:"mb-3",children:[(0,f.jsxs)(r.A.Label,{className:"mb-2",htmlFor:"author_h_",children:["Author Handle ",(0,f.jsx)("span",{className:"text-danger",children:"*"})]}),(0,f.jsx)(r.A.Control,{id:"author_h_",name:"author_h_",className:n.length?"":"is-invalid",placeholder:"Enter Author Handle",value:n,onChange:t}),n.length?null:(0,f.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),y?(0,f.jsxs)(r.A.Group,{className:"mb-3",children:[(0,f.jsx)(r.A.Label,{className:"mb-2",htmlFor:"tags__",children:"Add Tag"}),(0,f.jsx)("div",{className:"mb-3",children:(0,f.jsx)(g.A,{className:"selectpicker",placeholder:"Enter your Tag",classNamePrefix:"selectpicker",isClearable:!0,isLoading:A,options:S,onChange:this.handleSelectChange,onInputChange:this.onSearchText,value:S,isValidNewOption:this.isValidNewOption})}),(0,f.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:(()=>N.map(((e,t)=>(0,f.jsxs)(d.A,{bg:"",className:"f-center rounded-pill btn btn-outline-secondary",children:[(0,f.jsx)("span",{className:" text-ellipsis d-block",children:e}),(0,f.jsx)(o.A,{variant:"",className:"p-0 ms-1 ",onClick:this.onClickToRemoveTag(t),children:(0,f.jsx)(u.gc,{icon:"xmark",iconClass:"fs-6"})})]},e.toString()))))()})]}):"",!y&&(0,f.jsxs)(r.A.Group,{className:"mb-3",children:[(0,f.jsx)(r.A.Label,{className:"mb-2",htmlFor:"post_cont_",children:"Content"}),(0,f.jsx)(r.A.Control,{as:"textarea",className:"".concat(j.length?"":"is-invalid"," textarea-min-row-7"),id:"post_cont_",placeholder:"Enter Content",value:j,onChange:s}),j.length?null:(0,f.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]})]}),(0,f.jsxs)("div",{className:"assets_btn_wrapper px-4 py-3 f-center flex-column",children:[y?(0,f.jsx)(o.A,{className:"w-100 mb-2 ".concat(b?"spinner":""),disabled:b,onClick:()=>w(),children:"Save Changes"}):(0,f.jsx)(o.A,{className:"w-100 mb-2 ".concat(b?"spinner":""),disabled:b||!(i&&n&&j),onClick:this.handleSave,children:"Save Changes"}),(0,f.jsx)(o.A,{variant:"link",className:"text-muted text-decoration-none",onClick:C,children:"Cancel"})]})]})}}const j=w;var C=s(80906),b=s(42074);class y extends a.Component{constructor(e){super(e),this.onChangeAuthor=e=>this.setState({author:e.target.value}),this.onChangeHandle=e=>this.setState({handle:e.target.value}),this.onChangeAuthorImg=e=>this.setState({authorImage:e}),this.onClickRemoveAuthorImg=e=>this.setState({authorImage:""}),this.onChangePostImg=e=>this.setState({postImage:e}),this.onChangePostType=e=>this.setState({type:4}),this.onChangeContent=e=>this.setState({content:e.target.value}),this.onChangeTag=e=>this.setState({tags:e}),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onClickTouploadImage=(e,t)=>this.setState({postImage:e},(()=>t())),this.onSavePost=e=>{const{modalData:t,handleClose:s}=this.props,{authorImage:a,author:i,content:o,handle:n}=this.state;this.setState({loading:!0});const l={content:o,wallId:localStorage.getItem("wallId"),postId:String(t.ptPost),postauthor:i,posthandle:n,authorpicture:a};this.props.editpost(l,s)},this.onSaveTag=e=>{const{modalData:t,handleClose:s,isTaggModal:a}=this.props;this.setState({loading:!0});const i={postId:String(t.id),feedId:String(t.feedId),wallId:String(localStorage.getItem("wallId")),tags:this.state.tags};this.props.onUpdateTags(i,a,s)},this.state={author:"",handle:"",authorImage:"",postImage:"",content:"",tags:"",type:"",mediaUrl:"",mediaWidth:"",mediaHeight:""}}componentDidMount(){window.addEventListener("resize",this.handleResize);const{modalData:e}=this.props;this.setState({author:e.name,handle:e.username,authorImage:e.picture,postImage:e.postFile,content:e.postcontent,tags:e.tags,type:e.type,loading:!1,mediaUrl:e.mediaUrl,mediaWidth:e.mediaUrl,mediaHeight:e.mediaUrl})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{modalData:e,handleClose:t,isTaggModal:s,handleAllImageError:a}=this.props;return(0,f.jsxs)(i.A,{size:"full",show:!0,className:"assets_modal p-0",backdrop:!1,children:[(0,f.jsxs)(i.A.Header,{className:"justify-content-between py-0 ps-0",children:[(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)(b.N_,{to:"",className:"btn me-3 border-end border-0 py-3 rounded-0",onClick:t,children:(0,f.jsx)(u.gc,{icon:"chevron-left p-0"})}),(0,f.jsx)("span",{className:"text-dark fw-medium fs-5",children:s?"Add Tag":"Edit Post"})]}),(0,f.jsx)("div",{className:"d-flex align-items-center h-100",children:(0,f.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,f.jsx)(o.A,{variant:"link",className:"me-0 p-0 border-0",onClick:t,children:(0,f.jsx)(u.gc,{type:"regular",icon:"xmark",iconClass:"fs-5 me-1"})})})})]}),(0,f.jsxs)(i.A.Body,{className:"p-0 d-flex border-0 flex-wrap",children:[(0,f.jsx)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:(0,f.jsx)(C.A,{modalData:e,handleAllImageError:a})}),(0,f.jsx)("div",{className:"full_modal_sidebar position-relative",children:(0,f.jsx)(j,(0,l.A)({modalData:e,onChangeAuthor:this.onChangeAuthor,onChangeHandle:this.onChangeHandle,onChangeAuthorImg:this.onChangeAuthorImg,onChangePostImg:this.onChangePostImg,onChangeContent:this.onChangeContent,onChangeTag:this.onChangeTag,onClickRemoveAuthorImg:this.onClickRemoveAuthorImg,handleClose:t,onSavePost:this.onSavePost,onSaveTag:this.onSaveTag,isTaggModal:s},this.state))})]})]})}}const N=(0,n.Ng)((e=>{var t;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,authorized:e.authenticated}}),(e=>({editpost:(t,s)=>e((0,x.L2)(t,s)),onUpdateTags:(t,s,a)=>e((0,x.K)(t,s,a))})))(y);s(15208);const A=a.lazy((()=>s.e(7407).then(s.bind(s,67407))));class S extends a.Component{constructor(e){var t;super(e),t=this,this.handleResizeg=()=>{this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.updateCarousalPost=function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;const o=t=>t.filter((t=>t.post_id==e));if(s&&t.setState({carousalPostsList:s}),i){const e=2==i?s.filter((e=>e.id!=a)):[...s];1==i&&e.push(a);const n=o(e);t.setState({carousalPostsList:e,activeCarousalPostsList:[]},(()=>t.updateCarousalPostList(n)))}else{const a=o(s||t.state.carousalPostsList);t.setState({activeCarousalPost:e,activeCarousalPostsList:[]},(()=>t.updateCarousalPostList(a)))}},this.updateCarousalPostList=e=>{this.setState({activeCarousalPostsList:e})},this.handleClose=()=>this.props.modalCallback(!1),this.onMediaLoad=async e=>{if(e.mediaHeight&&e.mediaWidth)this.setState({mediaSize:{height:e.mediaHeight,width:e.mediaWidth}});else try{const{width:t,height:s}=await(0,m.pG)(e.newMedia);this.setState({mediaSize:{height:s,width:t}})}catch(t){this.setState({mediaSize:{height:100,width:100}})}},this.toggleOptions=()=>{const e=document.querySelector(".options");e&&(e.classList.contains("d-none")?e.classList.remove("d-none"):e.classList.add("d-none"))},this.editPostFun=e=>this.setState({editPost:!this.state.editPost,isTaggModal:e}),this.state={spotWidth:0,spotHeight:0,searchTag:"",selectedTag:[],loading:!1,winWidth:window.innerWidth,winHeight:window.innerHeight,paddingBottom:100,mediaSize:{height:400,width:400},editPost:!1,isTaggModal:!1,activeCarousalPost:0,activeCarousalPostsList:[],carousalPostsList:[],TagOpend:!1}}componentDidMount(){window.addEventListener("resize",this.handleResize),this.onMediaLoad(this.props.modalData),this.props.editTags&&(this.editPostFun(!0),this.setState({TagOpend:!0}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){this.props.modalData!==e.modalData&&this.onMediaLoad(this.props.modalData)}render(){const{modalToggle:e,modalData:t,onRefreshPost:s,filter:n,ctaData:l,postPostUpdate:d,currentIndex:r,clickToPin:c,clickToGetUgc:h,clickToDeletePost:p,clickToBlockUser:m,handleAllImageError:g,highLightPost:x,clickToPostStatus:v}=this.props,{spotWidth:w,spotHeight:j,winWidth:y,winHeight:S,mediaSize:k,editPost:P,isTaggModal:I,activeCarousalPost:T,activeCarousalPostsList:_,carousalPostsList:z,TagOpend:L}=this.state,E=Math.min((y-450)/k.width,(S-130)/k.height),D=(k.height,k.width*E);return(0,f.jsxs)(i.A,{size:"full",show:e,className:"assets_modal p-0 moderation_modal",backdrop:!1,children:[(0,f.jsxs)(i.A.Header,{className:"justify-content-between py-0 ps-0",children:[(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)(b.N_,{to:"",className:"btn me-3 border-end border-0 py-3 rounded-0 moderation_back",onClick:this.handleClose,children:(0,f.jsx)(u.gc,{icon:"chevron-left p-0"})}),(0,f.jsx)("span",{className:"text-dark fw-medium fs-5",children:P?"Edit Post":"General Info"})]}),(0,f.jsxs)("div",{className:"d-flex align-items-center h-100",children:[P?null:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"options d-none d-lg-flex",children:(0,f.jsxs)(f.Fragment,{children:["  ",1!==(null===t||void 0===t?void 0:t.type)?(0,f.jsxs)(o.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent highlight",onClick:()=>x(r,t.spostId,t.id,t.highlight,t),children:[t.highlight?(0,f.jsx)(u.gc,{type:"regular",icon:"circle-stop",iconClass:"fs-6 spotlight-on text-danger me-2"}):(0,f.jsx)(u.gc,{type:"solid",icon:"telescope",iconClass:"spotlight-off fs-6 text-secondary me-2"}),"Spotlight"]}):null,(0,f.jsxs)(o.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent highlight ".concat(t.pin?"text-gradient":""),onClick:()=>{c(r,t.postId,t.pin),this.handleClose()},children:[(0,f.jsx)(u.gc,{type:"solid",icon:"thumbtack",iconClass:"fs-6 me-2"}),"Pin to Top"]}),(3==t.networkId&&62==t.feedFilter||7==t.networkId||18==t.networkId&&(24==t.feedFilter||25==t.feedFilter||26==t.feedFilter))&&null==t.ugcstatus&&1!=t.type?(0,f.jsxs)(o.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:h(t),children:[(0,f.jsx)(u.gc,{type:"solid",icon:"user-check",iconClass:"fs-6 me-2"}),"UGC Rights"]}):null,(0,f.jsxs)(o.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:()=>this.editPostFun(!0),children:[(0,f.jsx)(u.gc,{type:"solid",icon:"tag",iconClass:"fs-6 me-2"}),"Tags"]}),(0,f.jsxs)(o.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:()=>this.editPostFun(!1),children:[(0,f.jsx)(u.gc,{type:"solid",icon:"pen",iconClass:"fs-6 me-2"}),"Edit Post"]}),1!=t.ugcstatus||2!=t.ugcstatus?(0,f.jsxs)(o.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:p(t,t.id,t.status,r,t.feedId,t.feedFilter),children:[(0,f.jsx)(u.gc,{type:"solid",icon:"trash-can",iconClass:"fs-6 me-2"}),"Delete Post"]}):null]})})}),(0,f.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,f.jsx)(o.A,{variant:"link",className:"btn-more d-lg-none me-3 p-0 border-0",onClick:this.toggleOptions,children:(0,f.jsx)(u.gc,{type:"regular",icon:"ellipsis-vertical",iconClass:"p-0"})}),(0,f.jsx)(o.A,{variant:"link",className:"me-2 p-0 border-0",onClick:this.handleClose,children:(0,f.jsx)(u.gc,{type:"regular",icon:"xmark",iconClass:"fs-5"})})]})]})]}),(0,f.jsxs)(i.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,f.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-3 p-xxl-4 position-relative mb-lg-0 overflow-hidden",children:[(0,f.jsx)(o.A,{variant:"outline-secondary",className:"assets_modal_arrow_left rounded-circle position-absolute box-shadow2x",onClick:this.props.slideAssets(r-1),children:(0,f.jsx)(u.gc,{type:"regular",icon:"arrow-left"})}),t.highlight?(0,f.jsx)("div",{className:"live-tag live-tag-popup mt-3",children:(0,f.jsx)("p",{className:"d-flex align-items-start m-0",children:(0,f.jsxs)("label",{className:"d-inline-flex align-items-center me-2 bg-danger text-white m-0 px-2",children:[(0,f.jsx)("small",{className:"bg-white h-8px w-8px me-2 d-inline-block rounded-circle"}),"Live"]})})}):null,(0,f.jsx)("div",{className:"w-100 position-relative",style:{maxWidth:y>991?D:null},children:(0,f.jsx)(C.A,{modalData:t,handleAllImageError:g})}),(0,f.jsx)(o.A,{variant:"outline-secondary",className:"assets_modal_arrow_right rounded-circle position-absolute box-shadow2x",onClick:this.props.slideAssets(r+1),children:(0,f.jsx)(u.gc,{type:"regular",icon:"arrow-right"})})]}),(0,f.jsx)("div",{className:"full_modal_sidebar position-relative",children:P?(0,f.jsx)(N,{handleClose:()=>{L?this.handleClose():this.editPostFun(!1)},modalData:t,filter:n,isTaggModal:I,handleAllImageError:g}):(0,f.jsx)(a.Suspense,{fallback:(0,f.jsx)(f.Fragment,{}),children:t?(0,f.jsx)(A,{updateCarousalPost:this.updateCarousalPost,clickToPostStatus:v,carousalPostsList:z,activeCarousalPostsList:_,activeCarousalPost:T,modalData:t,postPostUpdate:d,modalCallback:this.props.modalCallback,currentIndex:r},null===t||void 0===t?void 0:t.id):null})})]})]})}}const k=(0,n.Ng)((e=>{var t;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,authorized:e.authenticated}}),(e=>({})))(S)},80906:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(9950),i=s(76629),o=s(4073),n=s(5399),l=s(52867),d=s(44414);class r extends a.Component{constructor(e){super(e),this.handleResize=()=>{this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onMediaLoad=async e=>{if(e.mediaHeight&&e.mediaWidth)this.setState({mediaSize:{height:e.mediaHeight,width:e.mediaWidth}});else try{const{width:t,height:s}=await(0,l.pG)(e.newMedia);this.setState({mediaSize:{height:s,width:t}})}catch(t){this.setState({mediaSize:{height:100,width:100}})}},this.state={count:1,winWidth:window.innerWidth,winHeight:window.innerHeight,mediaSize:{height:400,width:400}}}componentDidMount(){window.addEventListener("resize",this.handleResize),this.onMediaLoad(this.props.modalData)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){this.props.modalData!==e.modalData&&this.onMediaLoad(this.props.modalData)}render(){const{modalData:e,handleAllImageError:t,autoPlay:s,movePost:a}=this.props,{winWidth:l,winHeight:r,mediaSize:c}=this.state,h=Math.min((l-(l>1400?850:650))/c.width,(r-130)/c.height),p=c.height*h,m=c.width*h,g=100*p/m;return 1==e.type?(0,d.jsx)("div",{className:"mx-auto w-100 p-4",children:(0,d.jsx)(i.default,{mediaClass:"bg-gray-200",size:120,content:e.postcontent,rating:e.rating,socialNetworkId:e.networkId,fontSize:"calc(14px + .3vw + .3vh)",lineCount:10})}):(0,d.jsx)("div",{className:"w-100 m-auto",style:{maxWidth:l>991?m:null},children:(0,d.jsx)("div",{className:"position-relative",children:2==e.type||4==e.type?(0,d.jsx)(o.default,{mediaClass:"content_img_",size:g,url:e.postFile,height:p,width:m,icon:e.networkId,rating:e.rating,alt:"",handleAllImageError:t,item:e,isCover:!0}):3==e.type||5==e.type?(0,d.jsx)(n.default,{item:e,mediaClass:"content_video",size:g,url:e.mediaUrl||e.mediaFile||e.mediaClip||e.postFile,poster:e.postFile,height:p,width:m,autoPlay:s||!0,muted:!1,isCover:!0,controls:!0,loop:!1,isupdate:1},a):null})})}}const c=r},4342:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(89379),i=s(80045),o=s(48738),n=s.n(o),l=s(9950),d=s(44089),r=s(44414);const c=["bsPrefix","bg","pill","text","className","as"],h=l.forwardRef(((e,t)=>{let{bsPrefix:s,bg:o="primary",pill:l=!1,text:h,className:p,as:m="span"}=e,g=(0,i.A)(e,c);const u=(0,d.oU)(s,"badge");return(0,r.jsx)(m,(0,a.A)((0,a.A)({ref:t},g),{},{className:n()(p,u,l&&"rounded-pill",h&&"text-".concat(h),o&&"bg-".concat(o))}))}));h.displayName="Badge";const p=h}}]);