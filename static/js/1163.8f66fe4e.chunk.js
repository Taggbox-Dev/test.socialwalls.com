"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[1163],{61163:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var n=t(89379),i=t(9950),r=t(97937),a=t(41294),o=t(98341),l=t(10274),d=t(68281),c=(t(70804),t(3686)),p=t(71690),h=t(95942),m=t(52867),x=t(68298),g=t(4073),f=t(88268),j=t(19115),u=t(15903),w=t(44414);class T extends i.Component{constructor(e){super(e),this.reArrangePosts=()=>{const{newArray:e,updateOrder:s}=this.state,t=e.map((e=>e.id)),n=e.map(((e,s)=>s+1));s&&(this.setState({spinner:!0}),this.props.GET_REORDER_PIN_TO_TOP(t,n,(()=>{this.setState({spinner:!1},(()=>this.props.closeModalPop()))})))},this.onLoadData=e=>{const{pinToTop:s}=e;this.setState({items:s,newArray:s})},this.state={items:[],newArray:[],spinner:!1,updateOrder:!1},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){this.onLoadData(this.props)}componentDidUpdate(e){e.openpinToTopModal!==this.props.openpinToTopModal&&this.props.openpinToTopModal&&this.props.GET_PIN_TO_TOP_LIST(),e.pinToTop!==this.props.pinToTop&&this.onLoadData(this.props)}onDragEnd(e){if(!e.destination)return;const s=((e,s,t)=>{const n=Array.from(e),[i]=n.splice(s,1);return n.splice(t,0,i),n})(this.state.items,e.source.index,e.destination.index);this.setState({items:s,newArray:s,updateOrder:!0})}render(){var e;const{openpinToTopModal:s,closeModalPop:t}=this.props,{spinner:i}=this.state;return(0,w.jsxs)(a.A,{className:"pintotop_modal",size:"lg",show:s,onHide:t,centered:!0,children:[(0,w.jsx)(a.A.Header,{closeButton:!0,children:(0,w.jsx)(a.A.Title,{children:"Change Order"})}),(0,w.jsx)(a.A.Body,{children:(0,w.jsx)("div",{className:"px-3 overflow-auto",style:{height:500},children:this.state.items&&(null===(e=this.state.items)||void 0===e?void 0:e.length)>0?(0,w.jsx)(d.JY,{onDragEnd:this.onDragEnd,children:(0,w.jsx)(d.gL,{droppableId:"droppable",children:(e,s)=>(0,w.jsx)("div",(0,n.A)((0,n.A)({},e.droppableProps),{},{ref:e.innerRef,style:(s.isDraggingOver,{}),children:this.state.items&&this.state.items.length&&this.state.items.map(((e,s)=>(0,w.jsx)(d.sx,{draggableId:"item-".concat(s),index:s,children:(t,i)=>{return(0,w.jsx)("div",(0,n.A)((0,n.A)((0,n.A)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(i.isDragging,r=t.draggableProps.style,(0,n.A)({},r)),children:(0,w.jsx)(c.A,{"data-id":e.id,className:"mb-3",children:(0,w.jsxs)(c.A.Body,{className:"p-2",children:[(0,w.jsx)("span",{className:"position-absolute start-0 translate-middle h-18px w-18px rounded-circle f-center bg-dark text-white top-50 fs-10 fw-medium",style:{zIndex:1},children:s+1}),(0,w.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,w.jsx)("div",{className:"f-center h-100 text-gray-300 me-lg-2 mb-2 fs-6",children:(0,w.jsx)(x.gc,{type:"solid",icon:"grip-dots-vertical"})}),(0,w.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer pe-lg-4 mx-auto mb-lg-0 mb-3",style:{width:120},children:(0,w.jsx)(g.A,{mediaClass:"position-relative rounded-1 overflow-hidden w-100",size:100,height:120,width:120,url:e.newMedia,alt:"",isCover:!0})}),(0,w.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 w-100 overflow-hidden",children:[(0,w.jsxs)("div",{className:"d-flex align-items-start mb-1",children:[(0,w.jsxs)("a",{href:e.link,target:"_blank",className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none text-gray-800",children:[(0,w.jsx)(f.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fs-5",name:e.username,profileUrl:e.picture,networkId:e.networkId}),(0,w.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,w.jsx)("p",{className:" mb-0",children:(0,w.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.name})}),(0,w.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",e.username]})]})]}),(0,w.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,w.jsx)(p.A,{placement:"top",overlay:(0,w.jsx)(h.A,{children:(0,m.Oi)(e.networkId)}),children:(0,w.jsx)(x.gc,{icon:(0,m.EC)(e.networkId),iconClass:"fs-4 fab ".concat(12==e.networkId?"fa-solid":"fa-brands")})})})]}),(0,w.jsx)("p",{className:"line-clamp line-clamp-3 mb-1",children:e.postcontent})]})]})]})})}));var r}},"item-".concat(s))))}))})}):(0,w.jsx)(u.A,{})})}),(0,w.jsxs)(a.A.Footer,{children:[(0,w.jsx)(r.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:t,children:"Cancel"}),(0,w.jsx)(r.A,{className:"ms-3 btn-min-w ".concat(i?"spinner":""),onClick:this.reArrangePosts,children:"Done"})]})]})}}const b=(0,o.Ng)((e=>{var s;return{pinToTop:null===(s=e.moderation)||void 0===s?void 0:s.pinToTop}}),(e=>({MOD_PIN_LIST:()=>e((0,j.SKt)()),GET_PIN_TO_TOP_LIST:()=>e((0,l.qz)()),GET_REORDER_PIN_TO_TOP:(s,t,n)=>e((0,l.Z4)(s,t,n))})))(T)}}]);