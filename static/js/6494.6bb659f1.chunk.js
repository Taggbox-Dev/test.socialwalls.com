"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[6494],{4342:(e,t,s)=>{s.d(t,{A:()=>r});var i=s(48738),a=s.n(i),n=s(9950),l=s(44089),o=s(44414);const d=n.forwardRef(((e,t)=>{let{bsPrefix:s,bg:i="primary",pill:n=!1,text:d,className:r,as:h="span",...c}=e;const g=(0,l.oU)(s,"badge");return(0,o.jsx)(h,{ref:t,...c,className:a()(r,g,n&&"rounded-pill",d&&`text-${d}`,i&&`bg-${i}`)})}));d.displayName="Badge";const r=d},76494:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var i=s(9950),a=s(41294),n=s(97937),l=s(98341),o=s(4342),d=s(49782),r=s(51960),h=s(71690),c=s(95942),g=s(52867),m=s(31722),p=s(68298),u=s(10274),v=s(135),x=s(44414);class j extends i.Component{constructor(e){super(e),this.getTagsArray=()=>{var e;let t=Array.isArray(null===(e=this.props)||void 0===e?void 0:e.tags)?this.props.tags.filter((e=>e.trim().length>0)):[];this.setState({tagString:t})},this.onLoad=()=>{const{searchPost:e}=this.state;(null===e||void 0===e?void 0:e.length)>0?(this.setState({isLoading:!0}),(0,u.nX)(e).then((e=>{const{responseData:t,responseCode:s}=e.data;if(200===s){var i;const e=null===t||void 0===t||null===(i=t.tags)||void 0===i?void 0:i.map((e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)})));this.setState({selectedOption:e,isLoading:!1})}else this.setState({selectedOption:[],isLoading:!1})})).catch((()=>{this.setState({isLoading:!1})}))):this.setState({selectedOption:[],isLoading:!1})},this.onSearchText=e=>{this.setState({searchPost:e},(()=>this.onLoad()))},this.handleSelectChange=e=>{var t;const{tagString:s}=this.state;null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.length&&(s.includes(e.value)?(0,g.r$)("Tag already exists"):this.setState({tagString:[...s,e.value]},(()=>this.props.onChangeTag(this.state.tagString.join(",")))))},this.setProfile=(e,t,s)=>{this.setState({uppyProfileOpen:!1},(()=>this.props.onChangeAuthorImg(e)))},this.onClickToRemoveTag=e=>t=>{let{tagString:s}=this.state;s.splice(e,1),this.setState({tagString:s},(()=>this.props.onChangeTag(s.join(","))))},this.handleSave=()=>{const{author:e,handle:t,onSavePost:s,content:i}=this.props;e&&t&&i&&s()},this.isValidNewOption=e=>e.length>=3,this.state={tagString:[],searchPost:"",selectedOption:[],isLoading:!1,uppyProfileOpen:!1,profile:"",imageError:!1}}componentDidMount(){this.getTagsArray()}componentDidUpdate(e){e.tags!==this.props.tags&&this.getTagsArray()}render(){const{onChangeAuthor:e,onChangeHandle:t,onChangeContent:s,onClickRemoveAuthorImg:i,author:a,handle:l,authorImage:u,onSavePost:j,onSaveTag:C,content:w,handleClose:f,loading:b,isTaggModal:N}=this.props,{tagString:A,isLoading:S,selectedOption:k,imageError:y}=this.state;return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"p-4 m_sidebar_scroll_",children:[!N&&(0,x.jsxs)(d.A.Group,{className:"mb-3",children:[(0,x.jsx)(d.A.Label,{className:"mb-2",htmlFor:"author_p_",children:"Author Profile"}),(0,x.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,x.jsx)("div",{className:"me-3 me-xxl-4",children:(0,x.jsx)("div",{className:"symbol h-60px w-60px position-relative rounded-circle bg-light overflow-hidden",children:u&&""!=u?(0,x.jsxs)(x.Fragment,{children:[y?null:(0,x.jsx)(r.A,{src:u,alt:a,height:70,width:70,className:"iobject-center-cover",load:"lazy",fluid:!0,onError:()=>this.setState({imageError:!0})}),(0,x.jsxs)("span",{className:"symbol-label bg-black text-white text-uppercase rounded-circle w-100 h-100 fs-2",style:{display:y?"flex":"none"},children:[" ",(0,g.t$)(a)," "]})]}):(0,x.jsxs)("span",{className:"symbol-label bg-black text-white text-uppercase rounded-circle w-100 h-100 fs-2",children:[" ",(0,g.t$)(a)," "]})})}),(0,x.jsxs)("div",{className:"d-flex align-items-start flex-column",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(h.A,{placement:"top",overlay:(0,x.jsx)(c.A,{children:"Edit"}),children:(0,x.jsx)(v.A,{uploadPath:"media/tmpimages/",uploadAgents:["GoogleDrive","Url"],allowedFile:["image/*"],onImgUpload:this.setProfile,children:(0,x.jsxs)(n.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",children:[" ",(0,x.jsx)(p.gc,{type:"solid",icon:"pen"})," "]})})}),(0,x.jsx)(h.A,{placement:"top",overlay:(0,x.jsx)(c.A,{children:"Remove"}),children:(0,x.jsx)(n.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1",onClick:i,children:(0,x.jsx)(p.gc,{type:"solid",icon:"trash-can"})})})]}),(0,x.jsx)("div",{className:"form-text mt-2",children:"Allowed file types: png, jpg, jpeg."})]})]})]}),!N&&(0,x.jsxs)(d.A.Group,{className:"mb-3",children:[(0,x.jsxs)(d.A.Label,{className:"mb-2",htmlFor:"author_n_",children:["Author Name ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(d.A.Control,{id:"author_n_",name:"author_n_",className:a.length?"":"is-invalid",placeholder:"Enter Author Name",value:a,onChange:e}),a.length?null:(0,x.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),!N&&(0,x.jsxs)(d.A.Group,{className:"mb-3",children:[(0,x.jsxs)(d.A.Label,{className:"mb-2",htmlFor:"author_h_",children:["Author Handle ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(d.A.Control,{id:"author_h_",name:"author_h_",className:l.length?"":"is-invalid",placeholder:"Enter Author Handle",value:l,onChange:t}),l.length?null:(0,x.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]}),N?(0,x.jsxs)(d.A.Group,{className:"mb-3",children:[(0,x.jsx)(d.A.Label,{className:"mb-2",htmlFor:"tags__",children:"Add Tag"}),(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(m.A,{className:"selectpicker",placeholder:"Enter your Tag",classNamePrefix:"selectpicker",isClearable:!0,isLoading:S,options:k,onChange:this.handleSelectChange,onInputChange:this.onSearchText,value:k,isValidNewOption:this.isValidNewOption})}),(0,x.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:(()=>A.map(((e,t)=>(0,x.jsxs)(o.A,{bg:"",className:"f-center rounded-pill btn btn-outline-secondary",children:[(0,x.jsx)("span",{className:" text-ellipsis d-block",children:e}),(0,x.jsx)(n.A,{variant:"",className:"p-0 ms-1 ",onClick:this.onClickToRemoveTag(t),children:(0,x.jsx)(p.gc,{icon:"xmark",iconClass:"fs-6"})})]},e.toString()))))()})]}):"",!N&&(0,x.jsxs)(d.A.Group,{className:"mb-3",children:[(0,x.jsx)(d.A.Label,{className:"mb-2",htmlFor:"post_cont_",children:"Content"}),(0,x.jsx)(d.A.Control,{as:"textarea",className:(w.length?"":"is-invalid")+" textarea-min-row-7",id:"post_cont_",placeholder:"Enter Content",value:w,onChange:s}),w.length?null:(0,x.jsx)("span",{className:"invalid-feedback",children:"This field is required"})]})]}),(0,x.jsxs)("div",{className:"assets_btn_wrapper px-4 py-3 f-center flex-column",children:[N?(0,x.jsx)(n.A,{className:"w-100 mb-2 "+(b?"spinner":""),disabled:b,onClick:()=>C(),children:"Save Changes"}):(0,x.jsx)(n.A,{className:"w-100 mb-2 "+(b?"spinner":""),disabled:b||!(a&&l&&w),onClick:this.handleSave,children:"Save Changes"}),(0,x.jsx)(n.A,{variant:"link",className:"text-muted text-decoration-none",onClick:f,children:"Cancel"})]})]})}}const C=j;var w=s(80906),f=s(42074);class b extends i.Component{constructor(e){super(e),this.onChangeAuthor=e=>this.setState({author:e.target.value}),this.onChangeHandle=e=>this.setState({handle:e.target.value}),this.onChangeAuthorImg=e=>this.setState({authorImage:e}),this.onClickRemoveAuthorImg=e=>this.setState({authorImage:""}),this.onChangePostImg=e=>this.setState({postImage:e}),this.onChangePostType=e=>this.setState({type:4}),this.onChangeContent=e=>this.setState({content:e.target.value}),this.onChangeTag=e=>this.setState({tags:e}),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onClickTouploadImage=(e,t)=>this.setState({postImage:e},(()=>t())),this.onSavePost=e=>{const{modalData:t,handleClose:s}=this.props,{authorImage:i,author:a,content:n,handle:l}=this.state;this.setState({loading:!0});const o={content:n,wallId:localStorage.getItem("wallId"),postId:String(t.referenceId),postauthor:a,posthandle:l,authorpicture:i};this.props.editpost(o,s)},this.onSaveTag=e=>{const{modalData:t,handleClose:s,isTaggModal:i}=this.props;this.setState({loading:!0});const a={postId:String(t.id),feedId:String(t.feedId),wallId:String(localStorage.getItem("wallId")),tags:this.state.tags};this.props.onUpdateTags(a,i,s)},this.state={author:"",handle:"",authorImage:"",postImage:"",content:"",tags:"",type:"",mediaUrl:"",mediaWidth:"",mediaHeight:""}}componentDidMount(){var e,t,s,i,a,n,l,o,d,r;window.addEventListener("resize",this.handleResize);const{modalData:h}=this.props;this.setState({author:null===h||void 0===h||null===(e=h.author)||void 0===e?void 0:e.name,handle:null===h||void 0===h||null===(t=h.author)||void 0===t?void 0:t.username,authorImage:null===h||void 0===h||null===(s=h.author)||void 0===s?void 0:s.picture,postImage:null===h||void 0===h||null===(i=h.media)||void 0===i||null===(a=i.image)||void 0===a?void 0:a.original,content:null===h||void 0===h||null===(n=h.content)||void 0===n?void 0:n.text,tags:null===h||void 0===h?void 0:h.tags,type:h.type,loading:!1,mediaUrl:null===h||void 0===h||null===(l=h.media)||void 0===l||null===(o=l.image)||void 0===o?void 0:o.original,mediaWidth:null===h||void 0===h||null===(d=h.media)||void 0===d?void 0:d.width,mediaHeight:null===h||void 0===h||null===(r=h.media)||void 0===r?void 0:r.height})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{modalData:e,handleClose:t,isTaggModal:s,handleAllImageError:i}=this.props;return(0,x.jsxs)(a.A,{size:"full",show:!0,className:"assets_modal p-0",backdrop:!1,children:[(0,x.jsxs)(a.A.Header,{className:"justify-content-between py-0 ps-0",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(f.N_,{to:"",className:"btn me-3 border-end border-0 py-3 rounded-0",onClick:t,children:(0,x.jsx)(p.gc,{icon:"chevron-left p-0"})}),(0,x.jsx)("span",{className:"text-dark fw-medium fs-5",children:s?"Add Tag":"Edit Post"})]}),(0,x.jsx)("div",{className:"d-flex align-items-center h-100",children:(0,x.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,x.jsx)(n.A,{variant:"link",className:"me-0 p-0 border-0",onClick:t,children:(0,x.jsx)(p.gc,{type:"regular",icon:"xmark",iconClass:"fs-5 me-1"})})})})]}),(0,x.jsxs)(a.A.Body,{className:"p-0 d-flex border-0 flex-wrap",children:[(0,x.jsx)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:(0,x.jsx)(w.A,{modalData:e,handleAllImageError:i})}),(0,x.jsx)("div",{className:"full_modal_sidebar position-relative",children:(0,x.jsx)(C,{modalData:e,onChangeAuthor:this.onChangeAuthor,onChangeHandle:this.onChangeHandle,onChangeAuthorImg:this.onChangeAuthorImg,onChangePostImg:this.onChangePostImg,onChangeContent:this.onChangeContent,onChangeTag:this.onChangeTag,onClickRemoveAuthorImg:this.onClickRemoveAuthorImg,handleClose:t,onSavePost:this.onSavePost,onSaveTag:this.onSaveTag,isTaggModal:s,...this.state})})]})]})}}const N=(0,l.Ng)((e=>{var t;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,authorized:e.authenticated}}),(e=>({editpost:(t,s)=>e((0,u.L2)(t,s)),onUpdateTags:(t,s,i)=>e((0,u.K)(t,s,i))})))(b);s(15208);const A=i.lazy((()=>s.e(7407).then(s.bind(s,67407))));class S extends i.Component{constructor(e){var t;super(e),t=this,this.handleResizeg=()=>{this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.updateCarousalPost=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;const n=t=>t.filter((t=>t.post_id==e));if(s&&t.setState({carousalPostsList:s}),a){const e=2==a?s.filter((e=>e.id!=i)):[...s];1==a&&e.push(i);const l=n(e);t.setState({carousalPostsList:e,activeCarousalPostsList:[]},(()=>t.updateCarousalPostList(l)))}else{const i=n(s||t.state.carousalPostsList);t.setState({activeCarousalPost:e,activeCarousalPostsList:[]},(()=>t.updateCarousalPostList(i)))}},this.updateCarousalPostList=e=>{this.setState({activeCarousalPostsList:e})},this.handleClose=()=>this.props.modalCallback(!1),this.onMediaLoad=async e=>{var t,s;if(null!==e&&void 0!==e&&null!==(t=e.media)&&void 0!==t&&t.height&&null!==e&&void 0!==e&&null!==(s=e.media)&&void 0!==s&&s.width)this.setState({mediaSize:{height:e.media.height,width:e.media.width}});else try{var i,a;const{width:t,height:s}=await(0,g.pG)(null===e||void 0===e||null===(i=e.media)||void 0===i||null===(a=i.image)||void 0===a?void 0:a.original);this.setState({mediaSize:{height:s,width:t}})}catch(n){this.setState({mediaSize:{height:100,width:100}})}},this.toggleOptions=()=>{const e=document.querySelector(".options");e&&(e.classList.contains("d-none")?e.classList.remove("d-none"):e.classList.add("d-none"))},this.editPostFun=e=>this.setState({editPost:!this.state.editPost,isTaggModal:e}),this.state={spotWidth:0,spotHeight:0,searchTag:"",selectedTag:[],loading:!1,winWidth:window.innerWidth,winHeight:window.innerHeight,paddingBottom:100,mediaSize:{height:400,width:400},editPost:!1,isTaggModal:!1,activeCarousalPost:0,activeCarousalPostsList:[],carousalPostsList:[],TagOpend:!1}}componentDidMount(){window.addEventListener("resize",this.handleResize),this.onMediaLoad(this.props.modalData),this.props.editTags&&(this.editPostFun(!0),this.setState({TagOpend:!0}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){this.props.modalData!==e.modalData&&this.onMediaLoad(this.props.modalData)}render(){const{modalToggle:e,modalData:t,onRefreshPost:s,filter:l,ctaData:o,postPostUpdate:d,currentIndex:r,clickToPin:h,clickToGetUgc:c,clickToDeletePost:g,clickToBlockUser:m,handleAllImageError:u,highLightPost:v,clickToPostStatus:j}=this.props,{spotWidth:C,spotHeight:b,winWidth:S,winHeight:k,mediaSize:y,editPost:P,isTaggModal:I,activeCarousalPost:T,activeCarousalPostsList:_,carousalPostsList:L,TagOpend:z}=this.state,D=Math.min((S-450)/y.width,(k-130)/y.height),E=(y.height,y.width*D);return(0,x.jsxs)(a.A,{size:"full",show:e,className:"assets_modal p-0 moderation_modal",backdrop:!1,children:[(0,x.jsxs)(a.A.Header,{className:"justify-content-between py-0 ps-0",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(f.N_,{to:"",className:"btn me-3 border-end border-0 py-3 rounded-0 moderation_back",onClick:this.handleClose,children:(0,x.jsx)(p.gc,{icon:"chevron-left p-0"})}),(0,x.jsx)("span",{className:"text-dark fw-medium fs-5",children:P?"Edit Post":"General Info"})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center h-100",children:[P?null:(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"options d-none d-lg-flex",children:(0,x.jsxs)(x.Fragment,{children:["  ",1!==(null===t||void 0===t?void 0:t.type)&&2!==(null===t||void 0===t?void 0:t.status)?(0,x.jsxs)(n.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent highlight",onClick:()=>v(r,t.referenceId,t.id,t.highlight,t),children:[t.highlight?(0,x.jsx)(p.gc,{type:"regular",icon:"circle-stop",iconClass:"fs-6 spotlight-on text-danger me-2"}):(0,x.jsx)(p.gc,{type:"solid",icon:"telescope",iconClass:"spotlight-off fs-6 text-secondary me-2"}),"Spotlight"]}):null,(0,x.jsxs)(n.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent highlight "+(t.pin?"text-gradient":""),onClick:()=>{h(r,t.referenceId,t.pin)},children:[(0,x.jsx)(p.gc,{type:"solid",icon:"thumbtack",iconClass:"fs-6 me-2"}),"Pin to Top"]}),(3==t.networkId&&62==t.feedFilter||7==t.networkId||18==t.networkId&&(24==t.feedFilter||25==t.feedFilter||26==t.feedFilter))&&null==t.ugcstatus&&1!=t.type?(0,x.jsxs)(n.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:c(t),children:[(0,x.jsx)(p.gc,{type:"solid",icon:"user-check",iconClass:"fs-6 me-2"}),"UGC Rights"]}):null,(0,x.jsxs)(n.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:()=>this.editPostFun(!0),children:[(0,x.jsx)(p.gc,{type:"solid",icon:"tag",iconClass:"fs-6 me-2"}),"Tags"]}),(0,x.jsxs)(n.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:()=>this.editPostFun(!1),children:[(0,x.jsx)(p.gc,{type:"solid",icon:"pen",iconClass:"fs-6 me-2"}),"Edit Post"]}),1!=t.ugcstatus||2!=t.ugcstatus?(0,x.jsxs)(n.A,{variant:"link",className:"p-0 f-center border-0 me-3 bg-transparent",onClick:g(t,t.id,t.status,r,t.feedId,t.feedFilter),children:[(0,x.jsx)(p.gc,{type:"solid",icon:"trash-can",iconClass:"fs-6 me-2"}),"Delete Post"]}):null]})})}),(0,x.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,x.jsx)(n.A,{variant:"link",className:"btn-more d-lg-none me-3 p-0 border-0",onClick:this.toggleOptions,children:(0,x.jsx)(p.gc,{type:"regular",icon:"ellipsis-vertical",iconClass:"p-0"})}),(0,x.jsx)(n.A,{variant:"link",className:"me-2 p-0 border-0",onClick:this.handleClose,children:(0,x.jsx)(p.gc,{type:"regular",icon:"xmark",iconClass:"fs-5"})})]})]})]}),(0,x.jsxs)(a.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,x.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-3 p-xxl-4 position-relative mb-lg-0 overflow-hidden",children:[(0,x.jsx)(n.A,{variant:"outline-secondary",className:"assets_modal_arrow_left rounded-circle position-absolute box-shadow2x",onClick:this.props.slideAssets(r-1),children:(0,x.jsx)(p.gc,{type:"regular",icon:"arrow-left"})}),t.highlight?(0,x.jsx)("div",{className:"live-tag live-tag-popup mt-3",children:(0,x.jsx)("p",{className:"d-flex align-items-start m-0",children:(0,x.jsxs)("label",{className:"d-inline-flex align-items-center me-2 bg-danger text-white m-0 px-2",children:[(0,x.jsx)("small",{className:"bg-white h-8px w-8px me-2 d-inline-block rounded-circle"}),"Live"]})})}):null,(0,x.jsx)("div",{className:"w-100 position-relative",style:{maxWidth:S>991?E:null},children:(0,x.jsx)(w.A,{modalData:t,handleAllImageError:u})}),(0,x.jsx)(n.A,{variant:"outline-secondary",className:"assets_modal_arrow_right rounded-circle position-absolute box-shadow2x",onClick:this.props.slideAssets(r+1),children:(0,x.jsx)(p.gc,{type:"regular",icon:"arrow-right"})})]}),(0,x.jsx)("div",{className:"full_modal_sidebar position-relative",children:P?(0,x.jsx)(N,{handleClose:()=>{z?this.handleClose():this.editPostFun(!1)},modalData:t,filter:l,isTaggModal:I,handleAllImageError:u}):(0,x.jsx)(i.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:t?(0,x.jsx)(A,{updateCarousalPost:this.updateCarousalPost,clickToPostStatus:j,carousalPostsList:L,activeCarousalPostsList:_,activeCarousalPost:T,modalData:t,postPostUpdate:d,modalCallback:this.props.modalCallback,currentIndex:r},null===t||void 0===t?void 0:t.id):null})})]})]})}}const k=(0,l.Ng)((e=>{var t;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,authorized:e.authenticated}}),(e=>({})))(S)},80906:(e,t,s)=>{s.d(t,{A:()=>h});var i=s(9950),a=s(76629),n=s(4073),l=s(5399),o=s(52867),d=s(44414);class r extends i.Component{constructor(e){super(e),this.handleResize=()=>{this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onMediaLoad=async e=>{var t,s,i,a;if(null!==e&&void 0!==e&&null!==(t=e.media)&&void 0!==t&&t.height&&null!==e&&void 0!==e&&null!==(s=e.media)&&void 0!==s&&s.width)this.setState({mediaSize:{height:null===(i=e.media)||void 0===i?void 0:i.height,width:null===(a=e.media)||void 0===a?void 0:a.width}});else try{var n,l;const{width:t,height:s}=await(0,o.pG)(null===e||void 0===e||null===(n=e.media)||void 0===n||null===(l=n.image)||void 0===l?void 0:l.original);this.setState({mediaSize:{height:s,width:t}})}catch(d){this.setState({mediaSize:{height:100,width:100}})}},this.state={count:1,winWidth:window.innerWidth,winHeight:window.innerHeight,mediaSize:{height:400,width:400}}}componentDidMount(){window.addEventListener("resize",this.handleResize),this.onMediaLoad(this.props.modalData)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){this.props.modalData!==e.modalData&&this.onMediaLoad(this.props.modalData)}render(){var e,t,s,i,o,r,h;const{modalData:c,handleAllImageError:g,autoPlay:m,movePost:p}=this.props,{winWidth:u,winHeight:v,mediaSize:x}=this.state,j=Math.min((u-(u>1400?850:650))/x.width,(v-130)/x.height),C=x.height*j,w=x.width*j,f=100*C/w;return 1==c.type?(0,d.jsx)("div",{className:"mx-auto w-100 p-4",children:(0,d.jsx)(a.A,{mediaClass:"bg-gray-200",size:120,content:null===c||void 0===c||null===(e=c.content)||void 0===e?void 0:e.text,rating:null===c||void 0===c?void 0:c.rating,socialNetworkId:null===c||void 0===c?void 0:c.networkId,fontSize:"calc(14px + .3vw + .3vh)",lineCount:10})}):(0,d.jsx)("div",{className:"w-100 m-auto",style:{maxWidth:u>991?w:null},children:(0,d.jsx)("div",{className:"position-relative",children:2==c.type||4==c.type?(0,d.jsx)(n.A,{mediaClass:"content_img_",size:f,url:null===c||void 0===c||null===(t=c.media)||void 0===t||null===(s=t.image)||void 0===s?void 0:s.original,height:C,width:w,icon:null===c||void 0===c?void 0:c.networkId,rating:null===c||void 0===c?void 0:c.rating,alt:"",handleAllImageError:g,item:c,isCover:!0}):3==c.type||5==c.type?(0,d.jsx)(l.A,{item:c,mediaClass:"content_video",size:f,url:null===c||void 0===c||null===(i=c.media)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.full,poster:null===c||void 0===c||null===(r=c.media)||void 0===r||null===(h=r.image)||void 0===h?void 0:h.original,height:C,width:w,autoPlay:m||!0,muted:!0,isCover:!0,controls:!0,loop:!1,isupdate:1},p):null})})}}const h=r}}]);