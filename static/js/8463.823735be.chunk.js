"use strict";(self.webpackChunkeditor_app=self.webpackChunkeditor_app||[]).push([[8463],{88268:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(9950),i=s(52867),a=s(44414);const o=e=>{let{imageSize:t,symbolClass:s,className:o,name:n,profileUrl:c,networkId:d,errorPic:r}=e;const[h,u]=(0,l.useState)(!1);return(0,a.jsx)("div",{className:o,children:h||""===c?(0,a.jsxs)("span",{className:"".concat(s," rounded-circle text-white"),style:{backgroundColor:"#000"},children:[" ",(0,i.t$)(n)," "]}):(0,a.jsx)("img",{src:c,height:t,width:t,alt:n,onError:e=>{r?e.target.src=r:u(!0)}})})}},4073:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(68298),i=s(51960),a=s(52867),o=s(9950),n=s(44414);const c=e=>{let{mediaClass:t,size:s,height:c,width:d,url:r,alt:h,isProduct:u,handleAllImageError:p,item:g,isCover:m}=e;const[x,v]=(0,o.useState)(s||100);(0,o.useEffect)((()=>{(async()=>{if(s)v(s);else if(c&&""!=c&&d&&""!=d)v(100*c/d);else try{const{width:e,height:t}=await(0,a.pG)(r);v(100*t/e)}catch(e){v(100)}})()}),[s]);return(0,n.jsx)("div",{className:"".concat(t," overflow-hidden position-relative"),style:{paddingBottom:"".concat(x,"%")},children:(0,n.jsx)(i.A,{className:"position-absolute  h-100 w-100 object-center-".concat(m?"cover":"contain"),loading:"lazy",src:r,height:c,width:d,"data-load":"0","data-id":null===g||void 0===g?void 0:g.id,"data-network":null===g||void 0===g?void 0:g.networkId,alt:""!=h?h:(0,a.wG)(r),onError:e=>{p&&p(e),(e=>{e.target.src=u?l.RO:l.ru})(e)},fluid:!0})})}},76629:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(70804),i=s(65646),a=s(44414);const o=e=>{let{content:t,mediaClass:s,rating:o,fontSize:n,lineCount:c,size:d}=e;return(0,a.jsx)("div",{className:"position-relative overflow-hidden ".concat(s),style:{paddingBottom:"".concat(d||"100","%")},children:(0,a.jsxs)("div",{className:"w-100 f-center flex-column position-absolute start-0 top-0 h-100 p-3",children:[o?(0,a.jsx)("div",{className:"f-center ps-1 mb-4",children:(0,a.jsx)(i.default,{className:"mx-1 fs-3",iconClass:"mx-1",rating:o})}):null,(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("p",{className:"text-center line-clamp-".concat(c||4," line-clamp mb-0 ").concat(n?"":"fs-7"),style:{fontSize:n},children:(0,l.Ay)(t)})})]})})}},5399:(e,t,s)=>{s.d(t,{A:()=>c});var l=s(9950),i=s(38092),a=s.n(i),o=s(52867),n=s(44414);const c=e=>{let{item:t,mediaClass:s,size:i,height:c,width:d,url:r,poster:h,autoPlay:u,muted:p,isCover:g,controls:m,loop:x,isupdate:v}=e;const[f,k]=(0,l.useState)(!1),[j,b]=(0,l.useState)(i||100);(0,l.useEffect)((()=>{(async()=>{if(i)b(i);else if(c&&""!=c&&d&&""!=d)b(100*c/d);else try{const{width:e,height:t}=await(0,o.pG)(h);b(100*t/e)}catch(e){b(100)}})()}),[i]);return(0,n.jsx)("div",{className:"".concat(s," overflow-hidden position-relative"),style:{paddingBottom:"".concat(j,"%")},children:(0,n.jsx)("div",{className:"position-absolute object-center-cover h-100 w-100",children:(0,n.jsx)(a(),{poster:h,className:"",url:r,config:{facebook:{appId:"117029975354072"},file:{attributes:{"data-item-id":null===t||void 0===t?void 0:t.id,poster:h,"data-network":null===t||void 0===t?void 0:t.networkId,"data-item-id":null===t||void 0===t?void 0:t.id,"data-stories":null===t||void 0===t?void 0:t.stories,"data-load":"0"}}},autoPlay:u,muted:!0,volume:u?1:0,playsinline:!0,onReady:e=>{k(!0)},playing:u,height:"100%",width:"100%",loop:x,controls:m,onError:v?e=>{(0,o.zi)(e)}:()=>{},style:{backgroundImage:f?"":"url(".concat(h,")"),backgroundSize:g?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})})}},65646:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var l=s(52867),i=s(68298),a=s(44414);const o=e=>{let{rating:t,className:s,iconClass:o}=e;return t?(0,a.jsx)("div",{className:"f-center ".concat(s),children:(0,l.OZ)(5).map(((e,s)=>(0,a.jsx)("span",{className:"".concat(e>t?"text-gray-300":"text-warning"," ").concat(o),children:(0,a.jsx)(i.gc,{type:"solid",icon:"star"})},s)))}):null}},28463:(e,t,s)=>{s.r(t),s.d(t,{default:()=>K});var l=s(89379),i=s(9950),a=s(98341),o=s(45358),n=s(10274),c=s(52867),d=s(28981),r=s(96125),h=s(18854),u=s(69174),p=s(25984),g=s(59051),m=s.n(g),x=s(68298),v=s(3686),f=s(49782),k=s(73501),j=s(95942),b=s(72530),w=s(97937),T=s(74378),A=s.n(T),C=s(4073),y=s(5399),P=s(76629),N=s(88268),S=s(15208),I=s(44414);const D=(0,i.lazy)((()=>s.e(3907).then(s.bind(s,43907)))),F=(0,i.lazy)((()=>s.e(1163).then(s.bind(s,61163)))),U=(0,i.lazy)((()=>s.e(6494).then(s.bind(s,76494)))),R=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,65646)))),M=(0,i.lazy)((()=>s.e(129).then(s.bind(s,90129)))),_=(0,i.lazy)((()=>s.e(8884).then(s.bind(s,48884))));class E extends i.Component{constructor(){var e;super(...arguments),e=this,this.imageQueue=[],this.state={postID:null,id:null,data:null,itemIndex:null,modalData:null,firstRequest:!1,openpinToTopModal:!1,showModal:!1,currentIndex:null,isHighlight:!1,editTags:!1},this.clickToPin=(e,t,s)=>{this.props.clickToPostPin(e,t,s),this.setState({postID:t})},this.clickToGetUgc=e=>t=>{this.props.getUgcDetails(e),this.openUgcModal()},this.clickToDeletePost=(e,t)=>s=>this.props.clickToDeletePost(e,t,this.props.navigate),this.clickToBlockUser=(e,t)=>s=>this.props.clickToBlockUser(e,t),this.clickToPostStatus=(e,t,s,l)=>i=>{this.props.clickToPostStatus(e,t,s,l),this.setState({postID:t})},this.onClickToPostTags=e=>t=>{this.props.searchTagsFilter(e)},this.openUgcModal=e=>{this.props.ugcModal(!0)},this.clickToHighlight=function(t,s,l,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;e.props.clickToPostHighlight(t,s,l,i,!1,(()=>e.moveTop(a,t,i))),e.setState({postID:s})},this.onRefreshPost=async e=>{await this.props.UPDATE_INSTA_POST_ACTION(e)},this.handleModalShow=(e,t)=>{this.setState({showModal:!0,modalData:e,currentIndex:t})},this.handleCallback=e=>{this.setState({showModal:e,modalData:e?this.state.modalData:null,currentIndex:null,editTags:!1})},this.moveTop=e=>{e&&this.handleModalShow(e,0);const t=document.querySelector(".dual_subheader_content");t&&t.scrollTo({top:0,behavior:"smooth"})},this.clickToGetLink=(e,t)=>{this.props.getUgcDetails(t),this.props.GET_UGC_REQUEST(t),this.props.onShow(e,t.ugcmodified)},this.handleImageError=e=>{const t=e.target.getAttribute("data-id");this.imageQueue.includes(t)||(this.imageQueue.push(t),this.state.firstRequest||this.processImageQueue())},this.processImageQueue=async()=>{this.setState({firstRequest:!0});const e=this.imageQueue[0],t=document.getElementById("imgID".concat(e));e&&(0,c.Cw)(e).then((e=>{let{data:s}=e;this.imageQueue.shift(),t&&(t.src=s.media),this.processImageQueue()})).catch((e=>{this.imageQueue.shift(),t&&(t.src=x.ru),this.processImageQueue()}))},this.slideAssets=e=>t=>{const{listData:s}=this.props;if(-1===e){let e=s.length-1;this.setState({currentIndex:e,modalData:s[e]})}else{let t=s.length==e?0:e;this.setState({currentIndex:t,modalData:s[t]})}}}componentDidUpdate(e){if(this.props.listData!==e.listData){let e=0;this.state.postID&&(e=this.props.listData.findIndex((e=>e.referenceId===this.state.postID)));const t=this.props.listData[e||this.state.currentIndex];this.setState({modalData:t,currentIndex:e||this.state.currentIndex},(()=>this.setState({postID:null})))}}render(){const{total:e,activeTab:t,filter:s,moderation:l,getUgcDetails:a,ugcData:o,ugcPopup:n,ugcRequestData:d,onShow:r,upgradePlan:h,handleAllImageError:g,currRef:T}=this.props,{openpinToTopModal:E,showModal:L,modalData:z,editTags:B,currentIndex:Q}=this.state;let G=null===s||void 0===s?void 0:s.tags.join();return(0,I.jsxs)("div",{className:"w-100 mb-4 mb-lg-0",children:[(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(_,{show:3==t,containerRef:T,upgradePlan:h})}),(0,I.jsxs)(A(),{className:"grid grid_mod row grid-view-content gx-3",elementType:"div",disableImagesLoaded:!1,updateOnEachImageLoad:!0,enableResizableChildren:!0,children:[(0,I.jsx)("div",{className:"assetsItem"}),null!==l&&void 0!==l&&l.listData&&(null===l||void 0===l?void 0:l.listData.length)>0?null===l||void 0===l?void 0:l.listData.map(((s,l)=>{var o,n,d,r,h,T,A,F,U,M,_,E,L,z,B,Q,O,H,W,q,Y,$,K,V,J,X;const Z=(0,c.EC)(s.networkId);return s.status==t||0==t?(0,I.jsx)("div",{"total-items":e,className:"assetsItem mb-3 ".concat(1==s.highlight?"grid-2x":""),id:"content_id-".concat(s.id),"data-post-id":s.id,"data-highlight":s.highlight,"data-pinned":s.pin,"data-created":s.createdAt,children:(0,I.jsx)(u.A,{children:(0,I.jsx)(v.A,{className:"border-0",children:(0,I.jsxs)(v.A.Body,{className:"p-0 bg-white",children:[(0,I.jsxs)("div",{className:"f-between px-3 py-2",style:{boxShadow:"0px 1px 0px rgba(0,0,0,.1)"},children:[(0,I.jsxs)("div",{className:"m_top_tools d-flex align-items-center list-inline mb-0",id:"post-actions-".concat(s.id),children:[(0,I.jsx)(f.A.Check,{className:"form-check btn btn-icon btn-sm d-flex align-items-center border-0",checked:s.isChecked,value:s.isChecked,onChange:this.props.clickPostChecked(l)}),1==s.status&&1!=s.type?(0,I.jsx)(k.A,{placement:"top",overlay:(0,I.jsx)(j.A,{children:"Spotlight"}),children:(0,I.jsx)("span",{className:"spotlight_highlight d-flex align-items-center border-0 cursor-pointer h-18px w-18px me-2",onClick:()=>this.clickToHighlight(l,s.referenceId,s.id,s.highlight),"data-value":s.pin,children:s.highlight?(0,I.jsx)(x.gc,{type:"regular",icon:"circle-stop",iconClass:"spotlight-off text-danger".concat(1==s.highlight?" fs-5":" fs-6")}):(0,I.jsx)(x.gc,{type:"solid",icon:"telescope",iconClass:"spotlight-off fs-6 text-secondary"})})}):null,(0,I.jsx)(k.A,{placement:"top",overlay:(0,I.jsx)(j.A,{children:"Pin to Top"}),children:(0,I.jsx)("span",{className:"d-flex align-items-center w-18px h-18px border-0 cursor-pointer me-2 ".concat(s.pin?"text-gradient":"text-muted"),onClick:()=>this.clickToPin(l,s.referenceId,s.pin),"data-value":s.pin,children:(0,I.jsx)(x.gc,{type:"solid",icon:"thumbtack",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")})})}),(3==s.networkId&&62==s.feedFilter||18==s.networkId&&(24==s.feedFilter||25==s.feedFilter||26==s.feedFilter))&&null==s.ugcstatus&&1!=s.type&&"true"!=localStorage.getItem("wallLimitExceed")?(0,I.jsx)(k.A,{placement:"top",overlay:(0,I.jsx)(j.A,{children:"UGC Rights"}),children:(0,I.jsx)("span",{className:"d-flex align-items-center w-18px h-18px border-0 cursor-pointer ".concat(s.highlight?"me-3":"me-2"),onClick:()=>{a(s),this.openUgcModal()},children:null==s.ugcRights||4==s.ugcstatus||2==s.ugcstatus?(0,I.jsx)(x.gc,{type:"solid",icon:"user-check",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")}):1==s.ugcstatus?(0,I.jsx)(x.gc,{type:"solid",icon:"user-clock",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")}):3==s.ugcstatus?(0,I.jsx)(x.gc,{type:"solid",icon:"user-xmark",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")}):""})}):null,(0,I.jsx)(k.A,{placement:"top",overlay:(0,I.jsx)(j.A,{children:"Tags"}),children:(0,I.jsx)("span",{className:"Tags d-flex align-items-center w-18px h-18px border-0 cursor-pointer ".concat(s.highlight?"me-3":"me-2"),onClick:()=>{this.handleModalShow(s,l),this.setState({editTags:!0})},"data-value":s.pin,children:(0,I.jsx)(x.gc,{type:"solid",icon:"tag",iconClass:"text-secondary".concat(1==s.highlight?" fs-5":" fs-6")})})})]}),(0,I.jsxs)(b.A,{children:[(0,I.jsx)(k.A,{placement:"top",overlay:(0,I.jsx)(j.A,{children:"More Actions"}),children:(0,I.jsx)(b.A.Toggle,{variant:"",className:"arrow_disabled after-none dropdown-toggle border-0 p-0",children:(0,I.jsx)(x.gc,{icon:"ellipsis",iconClass:"p-0 text-secondary".concat(1==s.highlight?" fs-3":" fs-5")})})}),(0,I.jsxs)(b.A.Menu,{children:[1!=s.ugcstatus||2!=s.ugcstatus?(0,I.jsxs)(b.A.Item,{onClick:this.clickToDeletePost(s,l),children:[(0,I.jsx)("span",{className:"me-2",children:(0,I.jsx)(x.gc,{type:"solid",icon:"trash-can"})}),"Delete Post"]}):null,(0,I.jsxs)(b.A.Item,{onClick:this.clickToBlockUser(l,null===s||void 0===s||null===(o=s.author)||void 0===o?void 0:o.username),disabled:"true"==localStorage.getItem("wallLimitExceed"),children:[(0,I.jsx)("span",{className:"me-2",children:(0,I.jsx)(x.gc,{type:"solid",icon:"ban"})}),"Block User"]}),""!=s.link&&null!=s.link?(0,I.jsxs)(b.A.Item,{href:s.link,target:"_blank",children:[(0,I.jsx)("span",{className:"me-2",children:(0,I.jsx)(x.gc,{type:"solid",icon:"paper-plane"})}),"View Post"]}):null,s.pin?(0,I.jsxs)(b.A.Item,{onClick:()=>this.setState({openpinToTopModal:!0}),children:[(0,I.jsx)("span",{className:"me-2",children:(0,I.jsx)(x.gc,{type:"solid",icon:"right-left"})}),"Change Order"]}):""]})]})]}),(0,I.jsxs)("div",{className:"p-3",children:[s.highlight?(0,I.jsx)("div",{className:"live-tag mb-3",children:(0,I.jsxs)("p",{className:"d-flex align-items-start m-0",children:[(0,I.jsxs)("label",{className:"d-inline-flex align-items-center me-2 bg-danger text-white m-0 px-2",children:[(0,I.jsx)("small",{className:"bg-white h-8px w-8px me-2 d-inline-block rounded-circle"})," Live"]}),(0,I.jsxs)("span",{className:"f-center",children:["Click on ",(0,I.jsx)(x.gc,{type:"regular",icon:"circle-stop",iconClass:"spotlight-off text-danger fs-5 mx-1"}),"button to stop Spotlight"]})]})}):null,(0,I.jsx)("div",{className:"position-relative w-100",children:(0,I.jsxs)("div",{className:"rounded overflow-hidden",onClick:()=>"true"!=localStorage.getItem("wallLimitExceed")?this.handleModalShow(s,l):{},children:[s.imageList&&s.imageList.length?(0,I.jsx)("span",{className:"position-absolute top-0 end-0 p-2",style:{zIndex:2},children:(0,I.jsx)(x.gc,{type:"solid",icon:"clone",iconClass:"text-white filter-shadow"})}):null,1==s.type?(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(P.A,{mediaClass:"bg-light",content:null===s||void 0===s||null===(n=s.content)||void 0===n?void 0:n.text,rating:s.rating,socialNetworkId:s.networkId})}):2==s.type||4==s.type?(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(C.A,{mediaClass:"content_img_",size:!1,url:null===s||void 0===s||null===(d=s.media)||void 0===d||null===(r=d.image)||void 0===r?void 0:r.original,height:null===s||void 0===s||null===(h=s.media)||void 0===h?void 0:h.height,width:null===s||void 0===s||null===(T=s.media)||void 0===T?void 0:T.width,icon:s.networkId,isCover:!0,rating:s.rating,alt:"",handleAllImageError:g,item:s})}):3==s.type||5==s.type?(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsxs)(I.Fragment,{children:[s.mediaClip?(0,I.jsx)(y.A,{item:s,mediaClass:"content_video",size:!1,url:null===s||void 0===s||null===(A=s.media)||void 0===A||null===(F=A.video)||void 0===F?void 0:F.full,poster:null===s||void 0===s||null===(U=s.media)||void 0===U||null===(M=U.image)||void 0===M?void 0:M.original,height:null===s||void 0===s||null===(_=s.media)||void 0===_?void 0:_.height,width:null===s||void 0===s||null===(E=s.media)||void 0===E?void 0:E.width,autoPlay:!0,muted:!0,isCover:!0,controls:!1,loop:!0}):(0,I.jsx)(C.A,{mediaClass:"content_img_",size:!1,url:null===s||void 0===s||null===(L=s.media)||void 0===L||null===(z=L.image)||void 0===z?void 0:z.original,height:null===s||void 0===s||null===(B=s.media)||void 0===B||null===(Q=B.image)||void 0===Q?void 0:Q.height,width:null===s||void 0===s||null===(O=s.media)||void 0===O||null===(H=O.image)||void 0===H?void 0:H.width,icon:s.networkId,rating:s.rating,alt:"",handleAllImageError:g,isCover:!0,item:s}),(0,I.jsx)("div",{className:"position-absolute end-0 top-0 text-white mt-2 me-2",children:(0,I.jsx)(x.gc,{type:"solid",icon:"video",iconClass:"filter-shadow fs-6"})})]})}):null,1!=s.type&&null!==s&&void 0!==s&&null!==(W=s.recommendation)&&void 0!==W&&W.label?(0,I.jsxs)("div",{className:"sentiments-status f-center  position-absolute bottom-0",children:[(0,I.jsx)("img",{src:"".concat(S.P_W,"icons/svg-icons/").concat(1==s.recommendation.type?"recommended":2==s.recommendation.type?"considerable":"not-recommended",".svg"),className:"image img-fluid",width:"12",height:"12"}),(0,I.jsx)("div",{className:"img_quality_status ".concat(3==s.recommendation.type?"not-recommended":""),children:(0,I.jsx)("span",{children:s.recommendation.label})})]}):null]})}),[1,2,3,4].includes(s.ugcstatus)&&(0,I.jsx)("div",{className:"w-100",children:(()=>{const e={1:{bg:"warning",icon:"user-clock",text:"Pending",showTime:!0},2:{bg:"success",icon:"user-check",text:"Approved"},3:{bg:"danger",icon:"user-xmark",text:"Rejected"},4:{bg:"danger",icon:"user-xmark",text:"Expired"}}[s.ugcstatus];return e?(0,I.jsxs)("div",{onClick:()=>this.clickToGetLink(s.ugcstatus,s),className:"bg-".concat(e.bg," f-center text-white fw-medium p-1 w-100 fs-9 cursor-pointer"),children:[(0,I.jsxs)("span",{className:"me-1",children:[" ",(0,I.jsx)(x.gc,{type:"solid",icon:e.icon})," "]}),e.text," ",e.showTime&&s.ugccreated&&(0,I.jsxs)("small",{children:[" (",m()(m()(s.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow(),") "]})]}):null})()}),1==s.ctastatus&&""!=s.buttonText?(0,I.jsx)("div",{className:"d-flex p-2 w-100 grid-cta-status-".concat(s.id),children:(0,I.jsx)("a",{className:"btn font-weight-bold text-nowrap w-100",title:s.buttonText,target:"_blank",href:"".concat(s.buttonUrl&&s.buttonUrl.includes("http")?s.buttonUrl:"//".concat(s.buttonUrl)),style:{backgroundColor:s.ctaButtonColor,color:s.ctaTextColor},children:(0,I.jsx)("span",{children:s.buttonText})})}):null]}),s.rating>0&&1!=s.type?(0,I.jsx)("div",{className:"d-flex justify-content-start p-3 pb-0",children:(0,I.jsx)(R,{className:"fs-5",iconClass:"me-1",rating:s.rating})}):null,(0,I.jsxs)("div",{className:"px-3 pb-3",children:[(0,I.jsxs)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:[" ",(0,I.jsx)(D,{item:s,onClickToPostTags:this.onClickToPostTags,selection:G},s.tags)," "]}),(0,I.jsxs)("div",{className:"f-between",children:[(0,I.jsx)("div",{className:"d-flex align-items-center pe-2",style:{maxWidth:"calc(100% - 25px)"},children:(0,I.jsxs)("div",{className:"d-flex align-items-center overflow-hidden",style:{maxWidth:"100%"},children:[(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(N.A,{imageSize:36,symbolClass:"symbol-36 f-center text-white fs-5",className:"symbol-36 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:(0,p.Ay)(null===s||void 0===s||null===(q=s.author)||void 0===q?void 0:q.username),profileUrl:null===s||void 0===s||null===(Y=s.author)||void 0===Y?void 0:Y.picture,networkId:null===s||void 0===s?void 0:s.networkId})}),(0,I.jsxs)("div",{className:"d-flex flex-column flex-grow-1 overflow-hidden",children:[null!==s&&void 0!==s&&s.link?(0,I.jsx)("a",{href:null===s||void 0===s?void 0:s.link,target:"_blank",className:"mb-0 text-ellipsis fw-bold text-body",children:null===s||void 0===s||null===($=s.author)||void 0===$?void 0:$.name}):(0,I.jsx)("span",{className:"mb-0 text-ellipsis fw-bold text-body",children:null===s||void 0===s||null===(K=s.author)||void 0===K?void 0:K.name}),(0,I.jsxs)("div",{className:"d-flex align-items-center",children:[(0,I.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:["@",(0,p.Ay)(null===s||void 0===s||null===(V=s.author)||void 0===V?void 0:V.username)]}),(0,I.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1 d-flex flex-shrink-0",style:{backgroundColor:"var(--bs-gray-600)"}}),(0,I.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:[" ",m()(new Date(1e3*s.createdAt)).fromNow()]})]})]})]})}),(0,I.jsxs)("span",{className:"f-center",children:[" ",(0,I.jsx)(x.gc,{type:"rss"==Z?"solid":"brands",icon:Z,iconClass:"mx-2 fs-4 fab"})," "]})]})]}),(0,I.jsxs)("div",{className:"d-flex align-items-center p-3 border-top",children:[3!=s.status?(0,I.jsx)("div",{className:"w-50 me-1",children:(0,I.jsx)(w.A,{variant:"public",size:"sm",onClick:this.clickToPostStatus(l,null!==(J=s.imageList)&&void 0!==J&&J.length?s.ptPost:s.postId,1),className:"".concat(1==s.status?"disabled":""," w-100"),disabled:"true"==localStorage.getItem("wallLimitExceed"),children:"Public"})}):null,3!=s.status?(0,I.jsx)("div",{className:"w-50 ms-1",children:(0,I.jsx)(w.A,{variant:"private",size:"sm",onClick:this.clickToPostStatus(l,null!==(X=s.imageList)&&void 0!==X&&X.length?s.ptPost:s.postId,2),className:"".concat(2==s.status?"disabled":""," w-100"),disabled:"true"==localStorage.getItem("wallLimitExceed"),children:"Private"})}):null]})]})})})},"post".concat(l,"_").concat(s.id)):null})):(0,I.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,I.jsxs)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:[" ",(0,I.jsx)(M,{title:"No Posts!",desc:"",icon:"media",isFullScreen:!1})," "]})})]}),z?(0,I.jsxs)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:[" ",(0,I.jsx)(U,{clickToPin:this.clickToPin,clickToGetUgc:this.clickToGetUgc,clickToDeletePost:this.clickToDeletePost,clickToBlockUser:this.clickToBlockUser,clickToPostStatus:this.clickToPostStatus,modalCallback:this.handleCallback,modalToggle:L,modalData:z,exportDonwloadMedia:this.exportDonwloadMedia,slideAssets:this.slideAssets,editTags:B,closeEditTag:()=>this.setState({editTags:!1}),currentIndex:Q,filter:s,handleAllImageError:g,onRefreshPost:this.onRefreshPost,highLightPost:this.clickToHighlight})," "]}):null,(0,I.jsxs)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:[" ",(0,I.jsx)(F,{openpinToTopModal:E,closeModalPop:()=>this.setState({openpinToTopModal:!1})})," "]})]})}}const L=(0,a.Ng)((e=>{var t,s,l,i;return{isEditing:null===(t=e.moderation)||void 0===t?void 0:t.isEditing,ugcData:null===(s=e.moderation)||void 0===s?void 0:s.ugcData,ugcPopup:null===(l=e.moderation)||void 0===l?void 0:l.ugcPopup,ugcRequestData:null===(i=e.moderation)||void 0===i?void 0:i.ugcRequestData,moderation:e.moderation,limits:e.limitExceed}}),(e=>({clickToPostStatus:(t,s,l,i)=>e((0,n.QK)(t,s,l,i)),clickToPostPin:(t,s,l)=>e((0,n.b4)(t,s,l)),clickToDeletePost:(t,s,l)=>e((0,n.xL)(t,s,l)),clickToBlockUser:(t,s)=>e((0,n.C8)(t,s)),getUgcDetails:t=>e((0,n.Qb)(t)),ugcModal:t=>e((0,n.$k)(t)),UPDATE_INSTA_POST_ACTION:t=>e((0,n.KH)(t)),GET_UGC_REQUEST:t=>e((0,n.rA)(t)),clickToPostHighlight:(t,s,l,i,a,o)=>e((0,n._m)(t,s,l,i,a,o))})))(E),z=(0,i.lazy)((()=>Promise.all([s.e(2796),s.e(8837)]).then(s.bind(s,98837)))),B=(0,i.lazy)((()=>s.e(2807).then(s.bind(s,12807)))),Q=(0,i.lazy)((()=>s.e(6029).then(s.bind(s,36029)))),G=(0,i.lazy)((()=>Promise.all([s.e(3556),s.e(2275),s.e(8604)]).then(s.bind(s,48117)))),O=(0,i.lazy)((()=>Promise.all([s.e(3556),s.e(9452),s.e(2250)]).then(s.bind(s,52250)))),H=(0,i.lazy)((()=>s.e(3325).then(s.bind(s,13325)))),W=(0,i.lazy)((()=>s.e(129).then(s.bind(s,90129)))),q=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,14562)))),Y=(0,i.lazy)((()=>Promise.resolve().then(s.bind(s,10889))));class $ extends i.Component{constructor(){var e;super(...arguments),e=this,this.allImageQueue=[],this.ref=i.createRef(null),this.state={total:0,isCheckAll:!1,isCheckedPostCount:0,perPageCount:10,activePage:1,filters:[],allFirstImage:!1,statusPopup:0,showFilterTab:!1,aiUpgrade:null,filterTab:0},this.callbackFilter=()=>{var e;this.props.removeAllFilterBody(!0);const t=new URL(window.location.href),s=new URLSearchParams(t.search);let l="";const i=["language","network","media","tags","sentiments","recommendation"].find((e=>t.href.includes(e)));l=[{filter:i,data:s.get(i)}],l&&this.props.filterDataAnalytics(l),null!==(e=window.location.pathname)&&void 0!==e&&e.includes("notificationId")&&(setTimeout((()=>{const e=localStorage.getItem("rule-notification");e&&(localStorage.removeItem("rule-notification"),this.props.updateRuleFilter(e))}),2e3),setTimeout((()=>this.props.getModeration()),1e3))},this.clickToCheckAll=e=>{const{isCheckAll:t}=this.state;this.setState({isCheckAll:!t},(()=>{this.onActionUpdateOpcity(),this.props.updateCheckAll(this.state.isCheckAll)}))},this.clickToCheckStatusAll=e=>t=>{this.onActionUpdateOpcity(),this.props.updateCheckStatusAll(e)},this.clickToUncheckAll=e=>{this.setState({isCheckAll:!1},(()=>{this.onActionUpdateOpcity(),this.props.removeCheckAll(!1)}))},this.clickPostChecked=e=>t=>this.props.selectPostUpdate(e,this.onActionUpdateOpcity()),this.onActionUpdateOpcity=()=>{const{isCheckAll:e,isCheckedPostCount:t}=this.state;(e||t>0)&&(document.getElementsByClassName("modSelectNo")&&document.getElementsByClassName("modSelectNo")[0]&&(0,c.UD)(document.getElementsByClassName("modSelectNo")[0]),document.getElementsByClassName("filter-bar")&&document.getElementsByClassName("filter-bar")[0]&&(0,c.UD)(document.getElementsByClassName("filter-bar")[0]))},this.clickToTab=e=>t=>this.props.activeTabActionFilter(e),this.onDateRangeFilter=(e,t)=>this.props.dateRangeFilter(e,t),this.onClickToFilterUpdateStatus=e=>t=>this.props.clickToPostStatusALL(e),this.onClickToFilterDeleteAll=e=>this.props.clickToPostDeleteALL(this.props.navigate),this.onClickNextPage=e=>this.props.onNextNavigateClick(),this.onClickPrevPage=e=>this.props.onPrevNavigateClick(),this.onChangePage=e=>t=>{this.props.onUpdatePage(e)},this.onClickReset=e=>{let t=this.state.filters.filter((t=>t.key===e.key));t=t.filter((t=>{if(["postType","socialFeed","other"].includes(t.key))return t.value.filter((t=>!e.value.includes(t)))})),this.setState({filters:t},(()=>this.props.clickToRefresh()))},this.onClickAllReset=e=>this.setState({filters:[]},(()=>this.props.getModeration())),this.upgradeTrueSensePlan=()=>this.setState({aiUpgrade:null},(()=>setTimeout((()=>this.props.upgradePlan()),100))),this.showAiUpgradePop=e=>this.setState({aiUpgrade:e,autoMod:!1}),this.handleAllImageError=e=>{try{const t=e.target.getAttribute("data-id");this.allImageQueue.some((e=>e.src===t))||this.allImageQueue.push({src:t,e:e}),this.state.allFirstImage||this.processAllImageQueue()}catch(t){console.log("error",t)}},this.processAllImageQueue=async()=>{this.allImageQueue.length&&!this.state.allFirstImage&&(this.setState({allFirstImage:!0}),this.processNextImage())},this.processNextImage=()=>{try{const{src:e,e:t}=this.allImageQueue[0];e&&(0,c.bs)(t,this.nextProcessAllImageQueue)}catch(e){console.log("error",e)}},this.nextProcessAllImageQueue=()=>{try{this.allImageQueue.shift(),this.allImageQueue.length?this.processNextImage():this.setState({allFirstImage:!1})}catch(e){console.log("error",e)}},this.updatepostCarosal=e=>{const{allWalls:t,galleryUpdate:s,postCarosal:l}=this.props;l(e);const i=(null===t||void 0===t?void 0:t.length)&&t.find((e=>e.id==localStorage.getItem("wallId")));i&&s({name:i.name,status:e,carouselPost:e,autoUpdate:i.autoUpdate||0,deleted:0,id:i.id,action:2})},this.openugcModel=()=>this.props.ugcModal(!0),this.onShow=e=>this.setState({statusPopup:e}),this.hideFilterBody=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.setState((s=>(0,l.A)((0,l.A)({},s),{},{showFilterTab:!t&&!e.state.showFilterTab})))}}componentDidUpdate(e,t){var s,l;e.moderation.changeModeration_wall!==this.props.moderation.changeModeration_wall&&this.props.moderation.changeModeration_wall&&this.setState({activeTab:null===(s=this.props.moderation)||void 0===s||null===(l=s.filter)||void 0===l?void 0:l.status},this.clickToUncheckAll)}componentWillMount(){const{params:e,userDetails:t,getTags:s}=this.props,l=window.location.href.replace(null===e||void 0===e?void 0:e.id,localStorage.getItem("wallId"));window.history.pushState(null,"",l),window.feedId=e.feedId,null!==t&&void 0!==t&&t.userTags||s(localStorage.getItem("ownerId")),this.callbackFilter()}componentDidMount(){document.cookie="callBackUrl=React",localStorage.removeItem("createFeedObj"),this.props.getModeration()}componentWillUnmount(){this.allImageQueue=[],this.props.removeAllFilterBody(!0)}componentWillUnmount(){this.props.removeAllFilterBody()}render(){var e,t,s;const{isCheckAll:a,perPageCount:n,activePage:c,filters:d,aiUpgrade:r,showFilterTab:h,filterTab:p}=this.state,{moderation:g,searchTagsFilter:m,limitUpdate:x,loader:v,postCarosal:f,showAutoPilotD:k,userDetails:j,clickToRefresh:b,ugcModal:w,clearUgcData:T,removeAllFilterBody:A,searchPostFilter:C,allWalls:y,wallsLoader:P,feeds:N,ugcData:S,ugcPopup:D,UGC_DATA_RM:F,navigate:U,getTags:R,toggleAutoPilot:M,onUpdateTags:_,upgradePlan:E}=this.props,$=null===g||void 0===g||null===(e=g.filter)||void 0===e?void 0:e.status;return(0,I.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content moderation__",children:[(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,i.createElement)(z,(0,l.A)((0,l.A)((0,l.A)({postCarosal:this.updatepostCarosal,clickToRefresh:b},this.props),this.state),{},{clickToCheckAll:this.clickToCheckStatusAll,clickToUncheckAll:this.clickToUncheckAll,isCheckedPostCount:null===g||void 0===g?void 0:g.isCheckedPostCount,onClickToViewFilter:this.onClickToViewFilter,total:null===g||void 0===g?void 0:g.total,clickToTab:this.clickToTab,onDateRangeFilter:this.onDateRangeFilter,onClickToFilterUpdateStatus:this.onClickToFilterUpdateStatus,onClickToFilterDeleteAll:this.onClickToFilterDeleteAll,onNextNavigateClick:this.onClickNextPage,onPrevNavigateClick:this.onClickPrevPage,onChangePage:this.onChangePage,onAppliedFilter:this.onAppliedFilter,activeTab:$,key:$,changeFilterTab:e=>this.setState({filterTab:e})}))}),(0,I.jsxs)(o.A,{fluid:!0,className:"position-relative py-3 dual_subheader_content",children:[(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(B,(0,l.A)((0,l.A)({},this.props),{},{filterBody:g.filterBody,showFilterTab:h,filterTab:p,hideFilterBody:this.hideFilterBody,showAiUpgradePop:this.showAiUpgradePop,changeFilterTab:e=>this.setState({filterTab:e})}))}),(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(Q,(0,l.A)((0,l.A)({},this.props),{},{filterBody:g.filterBody,filters:g.filter}))}),(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(O,(0,l.A)((0,l.A)({},this.props),{},{statusPopup:this.state.statusPopup,onHide:()=>{this.setState({statusPopup:0}),F()},openugcModel:this.openugcModel}))}),0!=(null===g||void 0===g?void 0:g.total)||null!==g&&void 0!==g&&g.filterLoader||3==(null===g||void 0===g||null===(t=g.filter)||void 0===t?void 0:t.status)&&(null===g||void 0===g||null===(s=g.listData)||void 0===s?void 0:s.length)>0?(0,I.jsx)("div",{className:"moderation_card tab-content",ref:this.ref,children:v.filterLoader?(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(H,(0,l.A)({},this.props))}):(0,I.jsx)(u.A,{children:(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(L,(0,l.A)((0,l.A)({clickPostChecked:this.clickPostChecked,currRef:this.ref},g),{},{removeAllFilterBody:A,activeTab:$,searchTagsFilter:m,onAppliedFilter:this.onAppliedFilter,handleAllImageError:this.handleAllImageError,filters:d,onClickAllReset:this.onClickAllReset,onClickReset:this.onClickReset,onShow:this.onShow,navigate:U,upgradePlan:E}))})})}):(0,I.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 228px)"},children:(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(W,{title:N&&N.length?"No Posts!":"Whoops! You have not created a feed! \u231b",desc:"",icon:"media",isFullScreen:!1})})}),D?(0,I.jsx)(u.A,{children:(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(G,{ugcData:S,hideUgc:()=>{w(!1),T()}})})}):""]}),k?(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(q,{userDetails:j,getTags:R,closeModeration:()=>M(!1),showUpgradePop:this.showAiUpgradePop,moderation:g})}):null,r?(0,I.jsx)(i.Suspense,{fallback:(0,I.jsx)(I.Fragment,{}),children:(0,I.jsx)(Y,{show:r,handleClose:()=>this.setState({aiUpgrade:null}),exploreSocialWall:this.upgradeTrueSensePlan,type:r})}):null]})}}const K=(0,a.Ng)((e=>{var t,s,l,i,a,o,n,c,d,r,h,u,p,g;return{moderation:e.moderation,loader:e.loader,ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,allFont:e.allFont,showAddFeed:null===(s=e.modalReducer)||void 0===s?void 0:s.showAddFeed,showManageFeed:null===(l=e.modalReducer)||void 0===l?void 0:l.showManageFeed,showCta:null===(i=e.modalReducer)||void 0===i?void 0:i.showCta,wallsLoader:null===(a=e.dashboardData)||void 0===a?void 0:a.wallsLoader,addGalleryNow:null===(o=e.dashboardData)||void 0===o?void 0:o.addGalleryNow,ctaData:null===(n=e.ctaData)||void 0===n?void 0:n.data,ugcData:null===(c=e.moderation)||void 0===c?void 0:c.ugcData,ugcPopup:null===(d=e.moderation)||void 0===d?void 0:d.ugcPopup,ugcRequestData:null===(r=e.moderation)||void 0===r?void 0:r.ugcRequestData,feeds:null===(h=e.manageFeeds)||void 0===h?void 0:h.feeds,allWalls:null===(u=e.dashboardData)||void 0===u||null===(p=u.dashboarddata)||void 0===p?void 0:p.allWalls,userDetails:e.authenticated,showAutoPilotD:null===(g=e.displayModalSection)||void 0===g?void 0:g.showAutoPilotD}}),(e=>({getModeration:t=>e((0,n.zI)(t)),activeTabActionFilter:t=>e((0,n.ww)(t)),updateCheckAll:t=>e((0,n.$)(t)),selectPostUpdate:(t,s)=>e((0,n.ax)(t,s)),dateRangeFilter:(t,s)=>e((0,n.AX)(t,s)),clickToPostStatusALL:t=>e((0,n.lg)(t)),clickToPostDeleteALL:t=>e((0,n.wi)(t)),searchTagsFilter:t=>e((0,n.cO)(t)),searchPostFilter:t=>e((0,n.HD)(t)),limitUpdate:t=>e((0,n.PH)(t)),onNextNavigateClick:()=>e((0,n.yH)()),onPrevNavigateClick:()=>e((0,n.Ec)()),onUpdatePage:t=>e((0,n.eJ)(t)),clickToRefresh:()=>e((0,n.LT)()),postCarosal:t=>e((0,n.gL)(t)),removeAllFilterBody:t=>e((0,n.ud)(t)),removeCheckAll:t=>e((0,n.KN)(t)),updateCheckStatusAll:t=>e((0,n.$3)(t)),ugcModal:t=>e((0,n.$k)(t)),clearUgcData:()=>e((0,n.nh)()),UGC_DATA_RM:()=>e((0,n.Ao)()),getTags:t=>e((0,d.to)(t)),onUpdateTags:(t,s,l)=>e((0,n.K)(t,s,l)),upgradePlan:()=>e((0,r.wQ)(!0)),toggleAutoPilot:t=>e((0,r.Di)(t)),filterDataAnalytics:t=>e((0,n.jL)(t)),updateRuleFilter:t=>e((0,n.cN)(t))})))(i.memo((0,h.A)($)))}}]);